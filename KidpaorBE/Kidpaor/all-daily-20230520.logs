2023-05-20 20:20:49.335 +03:00 [INF] Starting web application
2023-05-20 20:20:56.419 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 20:20:56.473 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 20:21:00.323 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 20:21:00.539 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 20:21:02.039 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:21:02.248 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 20:21:02.406 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:21:03.513 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:03.580 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:03.624 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:21:03.719 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:21:03.767 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (27ms).
2023-05-20 20:21:03.818 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:21:04.105 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:04.157 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:21:04.688 +03:00 [INF] Executed DbCommand (535ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:21:04.762 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:04.786 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:21:04.827 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:21:05.066 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:05.069 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:05.072 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:21:05.075 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:21:05.079 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-05-20 20:21:05.081 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:21:05.084 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:05.088 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:21:05.112 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:21:05.129 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:05.137 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:21:05.228 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:21:05.265 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2023-05-20 20:21:05.279 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:21:05.284 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:05.295 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:21:05.333 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:21:05.380 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:21:05.390 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:05.396 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:21:05.464 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:21:05.739 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:21:05.808 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 20:21:05.817 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.162 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.226 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.230 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.233 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:21:06.238 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-05-20 20:21:06.240 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.421 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.437 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:21:06.455 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:21:06.463 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.466 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.472 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.654 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.675 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.677 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.680 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:21:06.682 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 20:21:06.686 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.689 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.692 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:21:06.698 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:21:06.703 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.705 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.711 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:21:06.714 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:21:06.717 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.724 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.729 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:21:06.769 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:21:06.774 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:21:06.776 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:06.779 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:21:06.781 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:21:06.977 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 20:21:07.954 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 20:21:08.146 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:21:08.157 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2023-05-20 20:21:08.191 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:21:08.212 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:08.256 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:21:08.286 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:21:08.312 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:21:08.318 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:21:08.327 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:21:08.341 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:21:08.348 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 20:21:08.469 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 20:21:08.783 +03:00 [DBG] Hosting starting
2023-05-20 20:21:08.872 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 20:21:08.907 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 20:21:09.018 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 20:21:09.095 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 20:21:09.107 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:21:09.118 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 20:21:09.133 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:21:09.157 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 20:21:09.169 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 20:21:09.200 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 20:21:09.224 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 20:21:09.495 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 20:21:09.591 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 20:21:09.646 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 20:21:09.651 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 20:21:09.654 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 20:21:09.657 +03:00 [INF] Hosting environment: Development
2023-05-20 20:21:09.663 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 20:21:09.692 +03:00 [DBG] Hosting started
2023-05-20 20:21:09.933 +03:00 [DBG] Connection id "0HMQPAQD9TLVR" accepted.
2023-05-20 20:21:09.933 +03:00 [DBG] Connection id "0HMQPAQD9TLVQ" accepted.
2023-05-20 20:21:09.940 +03:00 [DBG] Connection id "0HMQPAQD9TLVR" started.
2023-05-20 20:21:09.957 +03:00 [DBG] Connection id "0HMQPAQD9TLVQ" started.
2023-05-20 20:21:10.146 +03:00 [DBG] Connection id "0HMQPAQD9TLVQ" received FIN.
2023-05-20 20:21:10.204 +03:00 [DBG] Connection 0HMQPAQD9TLVQ established using the following protocol: "Tls12"
2023-05-20 20:21:10.204 +03:00 [DBG] Connection 0HMQPAQD9TLVR established using the following protocol: "Tls12"
2023-05-20 20:21:10.301 +03:00 [DBG] Connection id "0HMQPAQD9TLVQ" is closed. The last processed stream ID was 0.
2023-05-20 20:21:10.310 +03:00 [DBG] Connection id "0HMQPAQD9TLVQ" sending FIN because: "The client closed the connection."
2023-05-20 20:21:10.338 +03:00 [DBG] Connection id "0HMQPAQD9TLVQ" stopped.
2023-05-20 20:21:10.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 20:21:10.466 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 20:21:10.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 416.0370ms
2023-05-20 20:21:10.951 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/swagger-ui.css - -
2023-05-20 20:21:10.951 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/swagger-ui-bundle.js - -
2023-05-20 20:21:10.951 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/swagger-ui-standalone-preset.js - -
2023-05-20 20:21:11.121 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-05-20 20:21:11.130 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-05-20 20:21:11.147 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-05-20 20:21:11.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/swagger-ui.css - - - 200 143632 text/css 251.7372ms
2023-05-20 20:21:11.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 251.6779ms
2023-05-20 20:21:11.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 251.1425ms
2023-05-20 20:21:12.044 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 20:21:12.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/favicon-32x32.png - -
2023-05-20 20:21:12.176 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-05-20 20:21:12.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/favicon-32x32.png - - - 200 628 image/png 26.3846ms
2023-05-20 20:21:12.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 748.6858ms
2023-05-20 20:21:59.577 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 20:21:59.581 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:21:59.709 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 20:21:59.715 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 20:21:59.723 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 20:21:59.727 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:22:01.977 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:22:01.999 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:22:02.024 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:22:02.033 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:22:02.129 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 500 - application/json 2551.1547ms
2023-05-20 20:23:09.615 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 20:23:09.620 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:23:09.639 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 20:23:09.649 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 20:23:09.668 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 20:23:09.679 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:23:09.695 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:23:09.701 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:23:09.714 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:23:09.719 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:23:09.752 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 500 - application/json 136.8710ms
2023-05-20 20:25:08.195 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account/address - -
2023-05-20 20:25:08.198 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:25:08.202 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/address'
2023-05-20 20:25:08.207 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetUserAddress (Kidpaor)' with route pattern 'api/Account/address' is valid for the request path '/api/Account/address'
2023-05-20 20:25:08.212 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetUserAddress (Kidpaor)'
2023-05-20 20:25:08.218 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:25:08.224 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:25:08.236 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:25:08.240 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:25:08.246 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:25:08.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account/address - - - 500 - application/json 64.4217ms
2023-05-20 20:25:24.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:25:24.277 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:25:24.289 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 20:25:24.294 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 20:25:24.300 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 20:25:24.306 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:25:24.309 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:25:24.320 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 20:25:24.376 +03:00 [INF] Route matched with {action = "GetParents", controller = "Parents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.Entities.Parents]]] GetParents() on controller Kidpaor.Controllers.ParentsController (Kidpaor).
2023-05-20 20:25:24.388 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 20:25:24.392 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 20:25:24.397 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 20:25:24.403 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 20:25:24.407 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 20:25:24.411 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 20:25:24.416 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 20:25:24.644 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:25:24.669 +03:00 [DBG] Compiling query expression: 
'DbSet<Parents>()'
2023-05-20 20:25:24.830 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Parents>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Parents.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Parents.Address (string) Required, 1], [Property: Parents.Email (string) Required, 2], [Property: Parents.Fullname (string) Required, 3], [Property: Parents.Phone (string) Required, 4] }
        SELECT p.Id, p.Address, p.Email, p.Fullname, p.Phone
        FROM Parents AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Parents>, 
    Infrastructure.Data.StoreContext, 
    False, 
    False, 
    True
)'
2023-05-20 20:25:24.890 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:25:24.901 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2023-05-20 20:25:24.904 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:25:24.909 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:25:24.917 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Address", p."Email", p."Fullname", p."Phone"
FROM "Parents" AS p
2023-05-20 20:25:24.940 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Address", p."Email", p."Fullname", p."Phone"
FROM "Parents" AS p
2023-05-20 20:25:24.959 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:25:24.961 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:25:24.965 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:25:24.986 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 20:25:25.005 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 20:25:25.009 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 20:25:25.013 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 20:25:25.015 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 20:25:25.018 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 20:25:25.023 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.Parents, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-20 20:25:25.060 +03:00 [INF] Executed action Kidpaor.Controllers.ParentsController.GetParents (Kidpaor) in 627.5069ms
2023-05-20 20:25:25.069 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 20:25:25.084 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 20:25:25.095 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 - application/json;+charset=utf-8 833.0408ms
2023-05-20 20:26:43.339 +03:00 [INF] Application is shutting down...
2023-05-20 20:26:43.351 +03:00 [DBG] Hosting stopping
2023-05-20 20:26:43.408 +03:00 [DBG] Connection id "0HMQPAQD9TLVR" is closing.
2023-05-20 20:26:43.418 +03:00 [DBG] Connection id "0HMQPAQD9TLVR" is closed. The last processed stream ID was 19.
2023-05-20 20:26:43.437 +03:00 [DBG] Connection id "0HMQPAQD9TLVR" received FIN.
2023-05-20 20:26:43.441 +03:00 [DBG] Connection id "0HMQPAQD9TLVR" sending FIN because: "The client closed the connection."
2023-05-20 20:26:43.446 +03:00 [DBG] Connection id "0HMQPAQD9TLVR" stopped.
2023-05-20 20:26:43.458 +03:00 [DBG] Hosting stopped
2023-05-20 20:26:56.913 +03:00 [INF] Starting web application
2023-05-20 20:26:58.537 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 20:26:58.549 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 20:27:00.699 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 20:27:00.708 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 20:27:01.553 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:27:01.694 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 20:27:01.726 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:27:02.300 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:02.323 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:02.342 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:27:02.379 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:27:02.403 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (19ms).
2023-05-20 20:27:02.416 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:27:02.559 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:02.590 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:27:02.918 +03:00 [INF] Executed DbCommand (330ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:27:02.937 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:02.950 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:27:02.966 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:27:03.067 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.070 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.074 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:27:03.079 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:27:03.084 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-05-20 20:27:03.089 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:27:03.093 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.096 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:27:03.106 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:27:03.113 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.120 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:27:03.169 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:27:03.171 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:27:03.173 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:27:03.175 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.181 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:27:03.201 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:27:03.224 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:27:03.229 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.231 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:27:03.270 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:27:03.426 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:27:03.434 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 20:27:03.441 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:03.733 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.741 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.747 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:03.750 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:27:03.755 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-05-20 20:27:03.759 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:03.872 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.875 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:27:03.891 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:27:03.896 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:03.899 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:03.905 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:04.023 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:04.026 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:04.028 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:04.030 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:27:04.032 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 20:27:04.036 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:04.039 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:04.044 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:27:04.049 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:27:04.057 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:04.061 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:04.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:27:04.071 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:27:04.073 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:04.075 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:04.077 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:27:04.086 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:27:04.090 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:27:04.092 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:04.095 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:27:04.099 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:27:04.204 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 20:27:04.900 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 20:27:04.998 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:27:05.000 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:27:05.007 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:27:05.011 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:05.016 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:27:05.032 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:27:05.052 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:27:05.060 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:27:05.064 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:27:05.073 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:27:05.079 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 20:27:05.173 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 20:27:05.324 +03:00 [DBG] Hosting starting
2023-05-20 20:27:05.368 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 20:27:05.377 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 20:27:05.415 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 20:27:05.461 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 20:27:05.471 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:27:05.475 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 20:27:05.480 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:27:05.490 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 20:27:05.502 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 20:27:05.516 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 20:27:05.521 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 20:27:05.618 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 20:27:05.678 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 20:27:05.680 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 20:27:05.682 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 20:27:05.684 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 20:27:05.686 +03:00 [INF] Hosting environment: Development
2023-05-20 20:27:05.690 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 20:27:05.692 +03:00 [DBG] Hosting started
2023-05-20 20:27:10.128 +03:00 [DBG] Connection id "0HMQPATOL1I78" accepted.
2023-05-20 20:27:10.133 +03:00 [DBG] Connection id "0HMQPATOL1I78" started.
2023-05-20 20:27:10.266 +03:00 [DBG] Connection 0HMQPATOL1I78 established using the following protocol: "Tls12"
2023-05-20 20:27:10.368 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:27:10.373 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 20:27:10.470 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:27:10.566 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 20:27:10.572 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 20:27:10.582 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 20:27:10.590 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:27:10.697 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:27:10.722 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:27:10.742 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:27:10.747 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:27:10.856 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 500 - application/json 499.0089ms
2023-05-20 20:27:21.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:27:21.393 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:27:21.400 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 20:27:21.403 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 20:27:21.408 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 20:27:21.411 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:27:21.417 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:27:21.420 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:27:21.426 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:27:21.430 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:27:21.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 500 - application/json 52.3292ms
2023-05-20 20:29:31.700 +03:00 [DBG] Connection id "0HMQPATOL1I78" is closing.
2023-05-20 20:29:31.702 +03:00 [DBG] Connection id "0HMQPATOL1I78" is closed. The last processed stream ID was 3.
2023-05-20 20:29:31.705 +03:00 [DBG] Connection id "0HMQPATOL1I78" received FIN.
2023-05-20 20:29:31.706 +03:00 [DBG] Connection id "0HMQPATOL1I78" sending FIN because: "The client closed the connection."
2023-05-20 20:29:31.712 +03:00 [DBG] Connection id "0HMQPATOL1I78" stopped.
2023-05-20 20:29:47.776 +03:00 [DBG] Connection id "0HMQPATOL1I79" accepted.
2023-05-20 20:29:47.779 +03:00 [DBG] Connection id "0HMQPATOL1I79" started.
2023-05-20 20:29:47.783 +03:00 [DBG] Connection 0HMQPATOL1I79 established using the following protocol: "Tls12"
2023-05-20 20:29:47.786 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:29:47.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 3.6251ms
2023-05-20 20:30:36.068 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:30:36.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.8271ms
2023-05-20 20:30:37.324 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:30:37.326 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 1.9034ms
2023-05-20 20:30:38.744 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:30:38.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.0600ms
2023-05-20 20:30:49.000 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:30:49.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.1178ms
2023-05-20 20:30:56.282 +03:00 [INF] Application is shutting down...
2023-05-20 20:30:56.285 +03:00 [DBG] Hosting stopping
2023-05-20 20:30:56.312 +03:00 [DBG] Connection id "0HMQPATOL1I79" is closing.
2023-05-20 20:30:56.314 +03:00 [DBG] Connection id "0HMQPATOL1I79" is closed. The last processed stream ID was 9.
2023-05-20 20:30:56.316 +03:00 [DBG] Connection id "0HMQPATOL1I79" received FIN.
2023-05-20 20:30:56.316 +03:00 [DBG] Connection id "0HMQPATOL1I79" stopped.
2023-05-20 20:30:56.318 +03:00 [DBG] Connection id "0HMQPATOL1I79" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-20 20:30:56.323 +03:00 [DBG] Hosting stopped
2023-05-20 20:31:05.122 +03:00 [INF] Starting web application
2023-05-20 20:31:06.257 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 20:31:06.266 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 20:31:07.025 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 20:31:07.029 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 20:31:07.395 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:31:07.439 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 20:31:07.451 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:07.786 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:07.797 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:07.806 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:07.825 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:31:07.838 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2023-05-20 20:31:07.846 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.007 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.021 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:08.125 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:08.132 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.137 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.144 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.192 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.195 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.196 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.198 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:31:08.199 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-05-20 20:31:08.200 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.201 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.202 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:08.207 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:08.211 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.212 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.227 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:31:08.230 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:31:08.231 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.234 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.236 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:31:08.243 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:31:08.255 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:31:08.259 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.261 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.275 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:31:08.335 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:31:08.337 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.338 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.415 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.416 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.418 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.419 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:31:08.420 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-05-20 20:31:08.421 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.471 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.473 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:08.482 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:08.485 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.486 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.488 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.549 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.552 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.553 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.554 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:31:08.556 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 20:31:08.558 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.561 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.563 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:08.567 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:08.572 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.573 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.576 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:31:08.578 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:31:08.579 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.580 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.581 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:31:08.584 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:31:08.586 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:31:08.586 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.587 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:08.588 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:31:08.635 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 20:31:08.845 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 20:31:08.902 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:31:08.903 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:31:08.906 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.908 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.911 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:31:08.918 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:31:08.924 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:31:08.928 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:08.929 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:08.932 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:31:08.936 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 20:31:08.967 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 20:31:09.020 +03:00 [DBG] Hosting starting
2023-05-20 20:31:09.037 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 20:31:09.040 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 20:31:09.064 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 20:31:09.075 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 20:31:09.078 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:31:09.080 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 20:31:09.082 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:31:09.085 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 20:31:09.087 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 20:31:09.092 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 20:31:09.095 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 20:31:09.162 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 20:31:09.185 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 20:31:09.188 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 20:31:09.189 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 20:31:09.190 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 20:31:09.191 +03:00 [INF] Hosting environment: Development
2023-05-20 20:31:09.192 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 20:31:09.193 +03:00 [DBG] Hosting started
2023-05-20 20:31:09.327 +03:00 [DBG] Connection id "0HMQPAVVU8OKF" accepted.
2023-05-20 20:31:09.330 +03:00 [DBG] Connection id "0HMQPAVVU8OKF" started.
2023-05-20 20:31:09.368 +03:00 [DBG] Connection id "0HMQPAVVU8OKG" accepted.
2023-05-20 20:31:09.371 +03:00 [DBG] Connection id "0HMQPAVVU8OKG" started.
2023-05-20 20:31:09.385 +03:00 [DBG] Connection 0HMQPAVVU8OKG established using the following protocol: "Tls12"
2023-05-20 20:31:09.385 +03:00 [DBG] Connection 0HMQPAVVU8OKF established using the following protocol: "Tls12"
2023-05-20 20:31:09.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:31:09.432 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 20:31:09.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 15.3545ms
2023-05-20 20:31:12.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:31:12.598 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.4373ms
2023-05-20 20:31:21.352 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:31:21.361 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 8.8798ms
2023-05-20 20:31:31.696 +03:00 [INF] Application is shutting down...
2023-05-20 20:31:31.698 +03:00 [DBG] Hosting stopping
2023-05-20 20:31:31.707 +03:00 [DBG] Connection id "0HMQPAVVU8OKG" is closing.
2023-05-20 20:31:31.708 +03:00 [DBG] Connection id "0HMQPAVVU8OKG" is closed. The last processed stream ID was 0.
2023-05-20 20:31:31.709 +03:00 [DBG] Connection id "0HMQPAVVU8OKF" is closing.
2023-05-20 20:31:31.714 +03:00 [DBG] Connection id "0HMQPAVVU8OKF" is closed. The last processed stream ID was 5.
2023-05-20 20:31:31.717 +03:00 [DBG] Connection id "0HMQPAVVU8OKF" received FIN.
2023-05-20 20:31:31.722 +03:00 [DBG] Connection id "0HMQPAVVU8OKG" stopped.
2023-05-20 20:31:31.722 +03:00 [DBG] Connection id "0HMQPAVVU8OKF" stopped.
2023-05-20 20:31:31.726 +03:00 [DBG] Connection id "0HMQPAVVU8OKG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-20 20:31:31.726 +03:00 [DBG] Connection id "0HMQPAVVU8OKF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-20 20:31:31.732 +03:00 [DBG] Hosting stopped
2023-05-20 20:31:43.913 +03:00 [INF] Starting web application
2023-05-20 20:31:46.124 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 20:31:46.130 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 20:31:47.201 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 20:31:47.207 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 20:31:47.712 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:31:47.791 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 20:31:47.810 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.222 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.236 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.248 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.274 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:31:48.288 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (12ms).
2023-05-20 20:31:48.296 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.394 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.414 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:48.517 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:48.526 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.532 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.539 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.618 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.620 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.622 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.624 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:31:48.625 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 20:31:48.628 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.630 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.632 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:48.637 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:48.641 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.643 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.672 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:31:48.674 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:31:48.675 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.678 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.681 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:31:48.695 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:31:48.711 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:31:48.715 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.717 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:48.737 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:31:48.829 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:31:48.833 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 20:31:48.835 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:48.950 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.952 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:48.954 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:48.956 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:31:48.959 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 20:31:48.961 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:49.048 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.050 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:49.063 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:49.066 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.068 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:49.070 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:49.135 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.136 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.139 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:49.141 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:31:49.143 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 20:31:49.145 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:49.147 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.150 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:49.153 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:31:49.157 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.158 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:49.162 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:31:49.164 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:31:49.166 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:49.168 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.170 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:31:49.177 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:31:49.182 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:31:49.183 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.185 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:31:49.187 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:31:49.254 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 20:31:49.513 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 20:31:49.552 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:31:49.554 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:31:49.556 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:31:49.559 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.562 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:31:49.569 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:31:49.579 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:31:49.582 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:31:49.584 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:31:49.589 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:31:49.593 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 20:31:49.803 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 20:31:49.918 +03:00 [DBG] Hosting starting
2023-05-20 20:31:49.991 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 20:31:49.998 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 20:31:50.024 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 20:31:50.049 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 20:31:50.065 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:31:50.074 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 20:31:50.079 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:31:50.092 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 20:31:50.101 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 20:31:50.110 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 20:31:50.115 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 20:31:50.248 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 20:31:50.295 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 20:31:50.297 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 20:31:50.299 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 20:31:50.301 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 20:31:50.302 +03:00 [INF] Hosting environment: Development
2023-05-20 20:31:50.304 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 20:31:50.306 +03:00 [DBG] Hosting started
2023-05-20 20:31:53.794 +03:00 [DBG] Connection id "0HMQPB0D6AA07" accepted.
2023-05-20 20:31:53.798 +03:00 [DBG] Connection id "0HMQPB0D6AA07" started.
2023-05-20 20:31:53.905 +03:00 [DBG] Connection 0HMQPB0D6AA07 established using the following protocol: "Tls12"
2023-05-20 20:31:53.982 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:31:53.988 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 20:31:54.004 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 23.8717ms
2023-05-20 20:31:57.264 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:31:57.266 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.2661ms
2023-05-20 20:31:58.246 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:31:58.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 1.9055ms
2023-05-20 20:31:58.442 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:31:58.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.4300ms
2023-05-20 20:31:58.661 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:31:58.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.5016ms
2023-05-20 20:32:03.971 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:32:03.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 3.8308ms
2023-05-20 20:32:05.255 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:32:05.257 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.2789ms
2023-05-20 20:33:01.083 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:33:01.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 7.9920ms
2023-05-20 20:33:02.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:33:02.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.2412ms
2023-05-20 20:33:03.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:33:03.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 0 - 2.1354ms
2023-05-20 20:33:41.541 +03:00 [INF] Starting web application
2023-05-20 20:33:43.218 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 20:33:43.222 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 20:33:43.931 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 20:33:43.935 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 20:33:44.270 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:33:44.345 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 20:33:44.361 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:33:44.699 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:44.714 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:44.726 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:33:44.749 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:33:44.765 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (11ms).
2023-05-20 20:33:44.774 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:33:44.885 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:44.903 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:33:45.027 +03:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:33:45.036 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.042 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:33:45.050 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:33:45.145 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.147 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.149 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:33:45.151 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:33:45.152 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 20:33:45.154 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:33:45.157 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.159 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:33:45.164 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:33:45.168 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.170 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:33:45.199 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:33:45.201 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:33:45.203 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:33:45.204 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.207 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:33:45.224 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:33:45.242 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:33:45.248 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.251 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:33:45.274 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:33:45.387 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:33:45.391 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.394 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.506 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.507 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.509 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.511 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:33:45.512 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 20:33:45.515 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.583 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.585 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:33:45.593 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:33:45.596 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.597 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.599 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.665 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.667 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.669 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.670 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:33:45.672 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 20:33:45.673 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.675 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.677 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:33:45.681 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:33:45.684 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.685 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.689 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:33:45.690 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-20 20:33:45.691 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.693 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.695 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:33:45.699 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:33:45.703 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:33:45.704 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:45.705 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:33:45.707 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:33:45.760 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 20:33:46.031 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 20:33:46.063 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:33:46.065 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:33:46.068 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:33:46.071 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:46.073 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:33:46.079 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:33:46.088 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:33:46.091 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:33:46.093 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:33:46.098 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:33:46.101 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 20:33:46.160 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 20:33:46.212 +03:00 [DBG] Hosting starting
2023-05-20 20:33:46.266 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 20:33:46.272 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 20:33:46.285 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 20:33:46.300 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 20:33:46.305 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:33:46.307 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 20:33:46.311 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:33:46.316 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 20:33:46.320 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 20:33:46.326 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 20:33:46.328 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 20:33:46.426 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 20:33:46.468 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 20:33:46.469 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 20:33:46.471 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 20:33:46.472 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 20:33:46.474 +03:00 [INF] Hosting environment: Development
2023-05-20 20:33:46.475 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 20:33:46.478 +03:00 [DBG] Hosting started
2023-05-20 20:33:48.922 +03:00 [DBG] Connection id "0HMQPB1FG8URF" accepted.
2023-05-20 20:33:48.927 +03:00 [DBG] Connection id "0HMQPB1FG8URF" started.
2023-05-20 20:33:49.005 +03:00 [DBG] Connection 0HMQPB1FG8URF established using the following protocol: "Tls12"
2023-05-20 20:33:49.046 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:33:49.050 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 20:33:49.079 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:33:49.112 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 20:33:49.114 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 20:33:49.117 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 20:33:49.119 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:33:49.205 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:33:49.214 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:33:49.219 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:33:49.315 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:33:49.390 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 500 - application/json 345.4280ms
2023-05-20 20:34:38.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 20:37:11.663 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:37:11.720 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 20:37:11.722 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 20:37:11.725 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 20:37:11.728 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:37:11.732 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:37:11.735 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:37:11.738 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:37:11.838 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:37:11.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 500 - application/json 153320.4299ms
2023-05-20 20:37:51.598 +03:00 [INF] Starting web application
2023-05-20 20:37:55.594 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 20:37:55.620 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 20:37:57.295 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 20:37:57.302 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 20:37:58.206 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:37:58.508 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 20:37:58.549 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:37:59.693 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:37:59.719 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:37:59.751 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:37:59.837 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:37:59.865 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (18ms).
2023-05-20 20:37:59.881 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:00.062 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.092 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:00.240 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:00.258 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.270 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:00.282 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:00.413 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.416 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.418 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:00.421 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:38:00.424 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-05-20 20:38:00.427 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:00.429 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.433 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:00.454 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:00.458 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.460 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:00.497 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:38:00.500 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:38:00.502 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:00.505 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.511 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:38:00.537 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:38:00.563 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:38:00.568 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.570 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:00.598 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:38:00.756 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:38:00.763 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 20:38:00.767 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:00.900 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.902 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:00.904 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:00.907 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:38:00.908 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 20:38:00.913 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:01.007 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:01.009 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:01.025 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:01.029 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:01.031 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:01.034 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:01.236 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:01.254 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:01.257 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:01.261 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:38:01.263 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 20:38:01.265 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:01.267 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:01.271 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:01.277 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:01.344 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:01.348 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:01.353 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:38:01.357 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 20:38:01.359 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:01.362 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:01.367 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:38:01.381 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:38:01.385 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:38:01.387 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:01.389 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:01.394 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:38:01.490 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 20:38:02.000 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 20:38:02.067 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:38:02.070 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:38:02.076 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:02.081 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:02.084 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:38:02.094 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:38:02.112 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:38:02.118 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:02.141 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:02.157 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:38:02.167 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 20:38:02.284 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 20:38:02.424 +03:00 [DBG] Hosting starting
2023-05-20 20:38:02.515 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 20:38:02.527 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 20:38:02.548 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 20:38:02.573 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 20:38:02.580 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:38:02.584 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 20:38:02.588 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:38:02.594 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 20:38:02.598 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 20:38:02.605 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 20:38:02.608 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 20:38:02.741 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 20:38:02.800 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 20:38:02.802 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 20:38:02.804 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 20:38:02.807 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 20:38:02.812 +03:00 [INF] Hosting environment: Development
2023-05-20 20:38:02.814 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 20:38:02.816 +03:00 [DBG] Hosting started
2023-05-20 20:38:30.185 +03:00 [INF] Starting web application
2023-05-20 20:38:32.202 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 20:38:32.209 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 20:38:33.348 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 20:38:33.354 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 20:38:33.840 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:38:33.960 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 20:38:33.985 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:34.436 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:34.453 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:34.466 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:34.488 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:38:34.503 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2023-05-20 20:38:34.511 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:34.614 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:34.633 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:34.749 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:34.761 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:34.770 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:34.779 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:34.888 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:34.891 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:34.895 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:34.899 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:38:34.901 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 20:38:34.904 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:34.906 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:34.909 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:34.916 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:34.920 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:34.924 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:34.963 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:38:34.965 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:38:34.967 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:34.969 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:34.972 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:38:35.009 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:38:35.032 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:38:35.036 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.038 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:35.068 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:38:35.203 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:38:35.221 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.223 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.447 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.450 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.453 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.456 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:38:35.458 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 20:38:35.461 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.637 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.639 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:35.651 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:35.658 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.661 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.665 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.736 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.738 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.740 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.743 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 20:38:35.744 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 20:38:35.747 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.748 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.750 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:35.754 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 20:38:35.757 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.759 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.762 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:38:35.764 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:38:35.766 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.768 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.771 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:38:35.778 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 20:38:35.781 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:38:35.783 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:35.784 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 20:38:35.786 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 20:38:35.845 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 20:38:36.060 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 20:38:36.090 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:38:36.092 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:38:36.095 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:38:36.098 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:36.101 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:38:36.111 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 20:38:36.119 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:38:36.122 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:38:36.124 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:38:36.130 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:38:36.133 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 20:38:36.200 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 20:38:36.255 +03:00 [DBG] Hosting starting
2023-05-20 20:38:36.311 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 20:38:36.317 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 20:38:36.331 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 20:38:36.347 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 20:38:36.353 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:38:36.358 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 20:38:36.364 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 20:38:36.368 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 20:38:36.374 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 20:38:36.383 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 20:38:36.385 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 20:38:36.515 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 20:38:36.562 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 20:38:36.566 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 20:38:36.569 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 20:38:36.571 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 20:38:36.572 +03:00 [INF] Hosting environment: Development
2023-05-20 20:38:36.576 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 20:38:36.579 +03:00 [DBG] Hosting started
2023-05-20 20:38:36.680 +03:00 [DBG] Connection id "0HMQPB458GJOQ" accepted.
2023-05-20 20:38:36.682 +03:00 [DBG] Connection id "0HMQPB458GJOQ" started.
2023-05-20 20:38:36.721 +03:00 [DBG] Connection id "0HMQPB458GJOR" accepted.
2023-05-20 20:38:36.725 +03:00 [DBG] Connection id "0HMQPB458GJOR" started.
2023-05-20 20:38:36.763 +03:00 [DBG] Connection id "0HMQPB458GJOQ" received FIN.
2023-05-20 20:38:36.796 +03:00 [DBG] Connection 0HMQPB458GJOQ established using the following protocol: "Tls12"
2023-05-20 20:38:36.796 +03:00 [DBG] Connection 0HMQPB458GJOR established using the following protocol: "Tls12"
2023-05-20 20:38:36.808 +03:00 [DBG] Connection id "0HMQPB458GJOQ" is closed. The last processed stream ID was 0.
2023-05-20 20:38:36.812 +03:00 [DBG] Connection id "0HMQPB458GJOQ" sending FIN because: "The client closed the connection."
2023-05-20 20:38:36.831 +03:00 [DBG] Connection id "0HMQPB458GJOQ" stopped.
2023-05-20 20:38:36.871 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 20:38:36.876 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 20:38:36.922 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:38:36.973 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 20:38:36.979 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 20:38:36.983 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 20:38:36.985 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:38:37.108 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:38:37.120 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:38:37.132 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:38:37.249 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:38:37.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 500 - application/json 468.7369ms
2023-05-20 20:41:16.952 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account/emailexists?email=bob%40test.com - -
2023-05-20 20:41:16.959 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:41:16.963 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/emailexists'
2023-05-20 20:41:16.964 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor)' with route pattern 'api/Account/emailexists' is valid for the request path '/api/Account/emailexists'
2023-05-20 20:41:16.966 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor)'
2023-05-20 20:41:16.967 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:41:16.969 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:41:16.971 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor)'
2023-05-20 20:41:16.991 +03:00 [INF] Route matched with {action = "CheckEmailExists", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] CheckEmailExistsAsync(System.String) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 20:41:16.995 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 20:41:16.996 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 20:41:16.998 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 20:41:17.000 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 20:41:17.003 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 20:41:17.005 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:41:17.177 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:41:17.187 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2023-05-20 20:41:17.193 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2023-05-20 20:41:17.198 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-20 20:41:17.200 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-20 20:41:17.201 +03:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2023-05-20 20:41:17.212 +03:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2023-05-20 20:41:17.251 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:41:17.269 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Where(u => u.NormalizedEmail == __normalizedEmail_0)
    .SingleOrDefault()'
2023-05-20 20:41:17.356 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AppUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.DisplayName (string) Required, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.LockoutEnabled (bool) Required, 6], [Property: AppUser.LockoutEnd (DateTimeOffset?), 7], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: AppUser.PasswordHash (string), 10], [Property: AppUser.PhoneNumber (string), 11], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 12], [Property: AppUser.SecurityStamp (string), 13], [Property: AppUser.TwoFactorEnabled (bool) Required, 14], [Property: AppUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DisplayName, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.NormalizedEmail == @__normalizedEmail_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-05-20 20:41:17.380 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:41:17.382 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:41:17.386 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:41:17.388 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:41:17.395 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 20:41:17.414 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 20:41:17.466 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 20:41:17.506 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:41:17.508 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:41:17.510 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:41:17.514 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 20:41:17.520 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 20:41:17.521 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 20:41:17.523 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 20:41:17.525 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 20:41:17.528 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 20:41:17.530 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2023-05-20 20:41:17.539 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor) in 529.9666ms
2023-05-20 20:41:17.542 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor)'
2023-05-20 20:41:17.545 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:41:17.550 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account/emailexists?email=bob%40test.com - - - 200 - application/json;+charset=utf-8 597.0815ms
2023-05-20 20:41:38.738 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account/address - -
2023-05-20 20:41:38.744 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:41:38.746 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/address'
2023-05-20 20:41:38.748 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetUserAddress (Kidpaor)' with route pattern 'api/Account/address' is valid for the request path '/api/Account/address'
2023-05-20 20:41:38.750 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetUserAddress (Kidpaor)'
2023-05-20 20:41:38.751 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:41:38.753 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:41:38.756 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:41:38.758 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:41:38.778 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:41:38.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account/address - - - 500 - application/json 44.3776ms
2023-05-20 20:41:46.177 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account/address - -
2023-05-20 20:41:46.179 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:41:46.181 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/address'
2023-05-20 20:41:46.183 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetUserAddress (Kidpaor)' with route pattern 'api/Account/address' is valid for the request path '/api/Account/address'
2023-05-20 20:41:46.186 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetUserAddress (Kidpaor)'
2023-05-20 20:41:46.188 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:41:46.190 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:41:46.192 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:41:46.194 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:41:46.215 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:41:46.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account/address - - - 500 - application/json 44.1402ms
2023-05-20 20:42:09.776 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/login application/json 55
2023-05-20 20:42:09.779 +03:00 [DBG] POST requests are not supported
2023-05-20 20:42:09.781 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/login'
2023-05-20 20:42:09.782 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)' with route pattern 'api/Account/login' is valid for the request path '/api/Account/login'
2023-05-20 20:42:09.784 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 20:42:09.786 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:42:09.790 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 20:42:09.793 +03:00 [INF] CORS policy execution successful.
2023-05-20 20:42:09.797 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:42:09.799 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 20:42:09.804 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Login(Kidpaor.Dtos.LoginDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 20:42:09.808 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 20:42:09.810 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 20:42:09.813 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 20:42:09.817 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 20:42:09.819 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 20:42:09.821 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:42:09.829 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:42:09.846 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 20:42:09.848 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' using the name '' in request data ...
2023-05-20 20:42:09.852 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 20:42:09.858 +03:00 [DBG] Connection id "0HMQPB458GJOR", Request id "0HMQPB458GJOR:00000009": started reading request body.
2023-05-20 20:42:09.861 +03:00 [DBG] Connection id "0HMQPB458GJOR", Request id "0HMQPB458GJOR:00000009": done reading request body.
2023-05-20 20:42:09.870 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.LoginDto'
2023-05-20 20:42:09.871 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 20:42:09.873 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 20:42:09.875 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 20:42:09.882 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 20:42:09.886 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:42:09.891 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:42:09.893 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:42:09.895 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:42:09.895 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:42:09.897 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 20:42:09.901 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 20:42:09.906 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 20:42:09.909 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:42:09.910 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:42:09.911 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:42:10.147 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 20:42:10.150 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 20:42:10.151 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 20:42:10.152 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 20:42:10.153 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 20:42:10.154 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 20:42:10.155 +03:00 [INF] Executing ObjectResult, writing value of type 'Kidpaor.Dtos.UserDto'.
2023-05-20 20:42:10.159 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Login (Kidpaor) in 338.6714ms
2023-05-20 20:42:10.162 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 20:42:10.165 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:42:10.168 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/login application/json 55 - 200 - application/json;+charset=utf-8 408.8622ms
2023-05-20 20:42:24.123 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 20:42:24.124 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:42:24.126 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 20:42:24.128 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 20:42:24.130 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 20:42:24.133 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:42:24.134 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:42:24.135 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:42:24.136 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:42:24.155 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:42:24.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 500 - application/json 37.0949ms
2023-05-20 20:42:56.963 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 77
2023-05-20 20:42:56.978 +03:00 [DBG] POST requests are not supported
2023-05-20 20:42:56.982 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 20:42:56.984 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 20:42:56.986 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 20:42:56.987 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:42:56.988 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 20:42:56.989 +03:00 [INF] CORS policy execution successful.
2023-05-20 20:42:56.991 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:42:56.991 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 20:42:56.994 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Register(Kidpaor.Dtos.RegisterDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 20:42:56.996 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 20:42:57.000 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 20:42:57.001 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 20:42:57.003 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 20:42:57.004 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 20:42:57.006 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:42:57.010 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:42:57.012 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 20:42:57.014 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' using the name '' in request data ...
2023-05-20 20:42:57.017 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 20:42:57.019 +03:00 [DBG] Connection id "0HMQPB458GJOR", Request id "0HMQPB458GJOR:0000000D": started reading request body.
2023-05-20 20:42:57.022 +03:00 [DBG] Connection id "0HMQPB458GJOR", Request id "0HMQPB458GJOR:0000000D": done reading request body.
2023-05-20 20:42:57.024 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.RegisterDto'
2023-05-20 20:42:57.026 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 20:42:57.027 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 20:42:57.029 +03:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 20:42:57.034 +03:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 20:42:57.040 +03:00 [WRN] User password validation failed: PasswordTooShort.
2023-05-20 20:42:57.043 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 20:42:57.045 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 20:42:57.046 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 20:42:57.049 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 20:42:57.050 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 20:42:57.050 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 20:42:57.052 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Kidpaor.Errors.ApiResponse'.
2023-05-20 20:42:57.054 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Register (Kidpaor) in 48.0584ms
2023-05-20 20:42:57.058 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 20:42:57.060 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/register application/json 77 - 400 - application/json;+charset=utf-8 98.5044ms
2023-05-20 20:43:14.504 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 80
2023-05-20 20:43:14.506 +03:00 [DBG] POST requests are not supported
2023-05-20 20:43:14.507 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 20:43:14.509 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 20:43:14.511 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 20:43:14.512 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:43:14.513 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 20:43:14.516 +03:00 [INF] CORS policy execution successful.
2023-05-20 20:43:14.518 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:43:14.519 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 20:43:14.521 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Register(Kidpaor.Dtos.RegisterDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 20:43:14.523 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 20:43:14.525 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 20:43:14.527 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 20:43:14.529 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 20:43:14.531 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 20:43:14.536 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:43:14.537 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:43:14.538 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 20:43:14.540 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' using the name '' in request data ...
2023-05-20 20:43:14.542 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 20:43:14.543 +03:00 [DBG] Connection id "0HMQPB458GJOR", Request id "0HMQPB458GJOR:0000000F": started reading request body.
2023-05-20 20:43:14.545 +03:00 [DBG] Connection id "0HMQPB458GJOR", Request id "0HMQPB458GJOR:0000000F": done reading request body.
2023-05-20 20:43:14.546 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.RegisterDto'
2023-05-20 20:43:14.548 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 20:43:14.549 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 20:43:14.552 +03:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 20:43:14.553 +03:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 20:43:14.570 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:43:14.576 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-05-20 20:43:14.583 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.DisplayName (string) Required, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.LockoutEnabled (bool) Required, 6], [Property: AppUser.LockoutEnd (DateTimeOffset?), 7], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: AppUser.PasswordHash (string), 10], [Property: AppUser.PhoneNumber (string), 11], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 12], [Property: AppUser.SecurityStamp (string), 13], [Property: AppUser.TwoFactorEnabled (bool) Required, 14], [Property: AppUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DisplayName, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 20:43:14.594 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:43:14.596 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 20:43:14.599 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:43:14.601 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:43:14.602 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 20:43:14.607 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 20:43:14.616 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:43:14.618 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:43:14.620 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:43:14.653 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 20:43:14.659 +03:00 [DBG] SaveChanges starting for 'AppIdentityDbContext'.
2023-05-20 20:43:14.664 +03:00 [DBG] DetectChanges starting for 'AppIdentityDbContext'.
2023-05-20 20:43:14.687 +03:00 [DBG] DetectChanges completed for 'AppIdentityDbContext'.
2023-05-20 20:43:14.711 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:43:14.713 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:43:14.717 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-20 20:43:14.725 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-05-20 20:43:14.787 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:43:14.790 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 20:43:14.795 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "DisplayName", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-05-20 20:43:14.817 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "DisplayName", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-05-20 20:43:14.828 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:43:14.837 +03:00 [DBG] Committing transaction.
2023-05-20 20:43:14.850 +03:00 [DBG] Committed transaction.
2023-05-20 20:43:14.855 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:43:14.858 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:43:14.862 +03:00 [DBG] Disposing transaction.
2023-05-20 20:43:14.878 +03:00 [DBG] An entity of type 'AppUser' tracked by 'AppIdentityDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 20:43:14.889 +03:00 [DBG] SaveChanges completed for 'AppIdentityDbContext' with 1 entities written to the database.
2023-05-20 20:43:14.899 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 20:43:14.909 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 20:43:14.911 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 20:43:14.912 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 20:43:14.914 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 20:43:14.920 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 20:43:14.923 +03:00 [INF] Executing ObjectResult, writing value of type 'Kidpaor.Dtos.UserDto'.
2023-05-20 20:43:14.926 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Register (Kidpaor) in 389.7548ms
2023-05-20 20:43:14.929 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 20:43:14.940 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:43:14.942 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/register application/json 80 - 200 - application/json;+charset=utf-8 437.5094ms
2023-05-20 20:43:26.254 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 20:43:26.255 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:43:26.256 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 20:43:26.257 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 20:43:26.259 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 20:43:26.262 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:43:26.264 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:43:26.265 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:43:26.268 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:43:26.291 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:43:26.295 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 500 - application/json 41.0913ms
2023-05-20 20:44:15.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 20:44:15.907 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:44:15.910 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 20:44:15.911 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 20:44:15.913 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 20:44:15.914 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:44:15.914 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:44:15.915 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:44:15.916 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:44:15.931 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:44:15.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 500 - application/json 42.2769ms
2023-05-20 20:44:17.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 20:44:17.112 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:44:17.115 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 20:44:17.116 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 20:44:17.119 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 20:44:17.120 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:44:17.121 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:44:17.121 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:44:17.123 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:44:17.145 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:44:17.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 500 - application/json 43.6423ms
2023-05-20 20:44:40.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account/emailexists?email=bob%40test.com - -
2023-05-20 20:44:40.536 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:44:40.539 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/emailexists'
2023-05-20 20:44:40.540 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor)' with route pattern 'api/Account/emailexists' is valid for the request path '/api/Account/emailexists'
2023-05-20 20:44:40.542 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor)'
2023-05-20 20:44:40.544 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:44:40.545 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:44:40.548 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor)'
2023-05-20 20:44:40.549 +03:00 [INF] Route matched with {action = "CheckEmailExists", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] CheckEmailExistsAsync(System.String) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 20:44:40.552 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 20:44:40.554 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 20:44:40.556 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 20:44:40.558 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 20:44:40.560 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 20:44:40.562 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:44:40.565 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:44:40.567 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2023-05-20 20:44:40.569 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2023-05-20 20:44:40.570 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-20 20:44:40.571 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-20 20:44:40.572 +03:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2023-05-20 20:44:40.575 +03:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2023-05-20 20:44:54.278 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:44:54.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:44:54.282 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-20 20:44:54.283 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:44:54.336 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:44:54.339 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 20:44:54.344 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 20:44:54.347 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 20:44:54.348 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:44:54.349 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:44:54.350 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:44:54.351 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 20:44:54.352 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 20:44:54.353 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 20:44:54.355 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 20:44:54.356 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 20:44:54.357 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 20:44:54.359 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2023-05-20 20:44:54.360 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor) in 13798.3523ms
2023-05-20 20:44:54.362 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.CheckEmailExistsAsync (Kidpaor)'
2023-05-20 20:44:54.364 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:44:54.365 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account/emailexists?email=bob%40test.com - - - 200 - application/json;+charset=utf-8 13838.2796ms
2023-05-20 20:45:04.679 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account/address - -
2023-05-20 20:45:04.681 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:45:04.690 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/address'
2023-05-20 20:45:04.694 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetUserAddress (Kidpaor)' with route pattern 'api/Account/address' is valid for the request path '/api/Account/address'
2023-05-20 20:45:04.698 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetUserAddress (Kidpaor)'
2023-05-20 20:45:04.699 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:45:04.701 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:45:04.703 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:45:04.705 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:45:04.726 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:45:04.731 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account/address - - - 500 - application/json 52.4210ms
2023-05-20 20:45:40.383 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/login application/json 55
2023-05-20 20:45:40.403 +03:00 [DBG] POST requests are not supported
2023-05-20 20:45:40.404 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/login'
2023-05-20 20:45:40.407 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)' with route pattern 'api/Account/login' is valid for the request path '/api/Account/login'
2023-05-20 20:45:40.409 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 20:45:40.410 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:45:40.411 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 20:45:40.414 +03:00 [INF] CORS policy execution successful.
2023-05-20 20:45:40.416 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:45:40.418 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 20:45:40.420 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Login(Kidpaor.Dtos.LoginDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 20:45:40.422 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 20:45:40.423 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 20:45:40.425 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 20:45:40.427 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 20:45:40.430 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 20:45:40.431 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:45:40.433 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 20:45:40.434 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 20:45:40.435 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' using the name '' in request data ...
2023-05-20 20:45:40.436 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 20:45:40.437 +03:00 [DBG] Connection id "0HMQPB458GJOR", Request id "0HMQPB458GJOR:0000001B": started reading request body.
2023-05-20 20:45:40.439 +03:00 [DBG] Connection id "0HMQPB458GJOR", Request id "0HMQPB458GJOR:0000001B": done reading request body.
2023-05-20 20:45:40.440 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.LoginDto'
2023-05-20 20:45:40.441 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 20:45:40.442 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 20:45:40.444 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 20:45:40.445 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 20:45:40.448 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 20:45:40.451 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 20:45:40.453 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 20:45:40.454 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 20:45:40.455 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:45:40.457 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 20:45:40.463 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 20:45:40.466 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 20:45:40.467 +03:00 [DBG] A data reader was disposed.
2023-05-20 20:45:40.469 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 20:45:40.470 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 20:45:40.483 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 20:45:40.485 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 20:45:40.488 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 20:45:40.490 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 20:45:40.491 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 20:45:40.491 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 20:45:40.493 +03:00 [INF] Executing ObjectResult, writing value of type 'Kidpaor.Dtos.UserDto'.
2023-05-20 20:45:40.494 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Login (Kidpaor) in 62.7061ms
2023-05-20 20:45:40.499 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 20:45:40.500 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 20:45:40.502 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/login application/json 55 - 200 - application/json;+charset=utf-8 119.6931ms
2023-05-20 20:45:51.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 20:45:51.249 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 20:45:51.253 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 20:45:51.256 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 20:45:51.258 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 20:45:51.259 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 20:45:51.260 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 20:45:51.262 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 20:45:51.264 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 20:45:51.287 +03:00 [ERR] The path in 'value' must start with '/'. (Parameter 'value')
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Kidpaor.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Middleware\ExceptionMiddleware.cs:line 24
2023-05-20 20:45:51.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 500 - application/json 46.1991ms
2023-05-20 21:04:53.211 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Activities - -
2023-05-20 21:04:53.222 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:04:53.222 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Activities'
2023-05-20 21:04:53.224 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor)' with route pattern 'api/Activities' is valid for the request path '/api/Activities'
2023-05-20 21:04:53.225 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor)'
2023-05-20 21:04:53.226 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:04:53.227 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:04:53.228 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor)'
2023-05-20 21:04:53.231 +03:00 [INF] Route matched with {action = "GetActivities", controller = "Activities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.Entities.Activities]]] GetActivities() on controller Kidpaor.Controllers.ActivitiesController (Kidpaor).
2023-05-20 21:04:53.234 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 21:04:53.237 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 21:04:53.241 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 21:04:53.244 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 21:04:53.246 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 21:04:53.247 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 21:04:53.249 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 21:04:53.255 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:04:53.266 +03:00 [DBG] Compiling query expression: 
'DbSet<Activities>()
    .Include(p => p.Category)
    .Include(p => p.Organizer)'
2023-05-20 21:04:53.285 +03:00 [DBG] Including navigation: 'Activities.Category'.
2023-05-20 21:04:53.289 +03:00 [DBG] Including navigation: 'Activities.Organizer'.
2023-05-20 21:04:53.320 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Activities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Activities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Activities.ActivitiesCategoryId (int) Required FK Index, 1], [Property: Activities.ActivitiesOrganizerId (int) Required FK Index, 2], [Property: Activities.AgeRange (string) Required, 3], [Property: Activities.Cost (string) Required, 4], [Property: Activities.DateEnd (DateTime) Required, 5], [Property: Activities.DateStart (DateTime) Required, 6], [Property: Activities.Description (string) Required, 7], [Property: Activities.Location (string) Required, 8], [Property: Activities.Title (string) Required MaxLength(100), 9] }
            1 -> Dictionary<IProperty, int> { [Property: ActivitiesCategories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: ActivitiesCategories.Description (string), 11], [Property: ActivitiesCategories.Name (string), 12] }
            2 -> Dictionary<IProperty, int> { [Property: Organizers.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Organizers.Address (string), 14], [Property: Organizers.Email (string), 15], [Property: Organizers.Fullname (string), 16], [Property: Organizers.Phone (string), 17] }
        SELECT a.Id, a.ActivitiesCategoryId, a.ActivitiesOrganizerId, a.AgeRange, a.Cost, a.DateEnd, a.DateStart, a.Description, a.Location, a.Title, a0.Id, a0.Description, a0.Name, o.Id, o.Address, o.Email, o.Fullname, o.Phone
        FROM Activities AS a
        INNER JOIN ActivitiesCategories AS a0 ON a.ActivitiesCategoryId == a0.Id
        INNER JOIN Organizers AS o ON a.ActivitiesOrganizerId == o.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Activities>, 
    Infrastructure.Data.StoreContext, 
    False, 
    False, 
    True
)'
2023-05-20 21:04:53.326 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:04:53.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:04:53.333 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:04:53.392 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:04:53.393 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ActivitiesCategoryId", a."ActivitiesOrganizerId", a."AgeRange", a."Cost", a."DateEnd", a."DateStart", a."Description", a."Location", a."Title", a0."Id", a0."Description", a0."Name", o."Id", o."Address", o."Email", o."Fullname", o."Phone"
FROM "Activities" AS a
INNER JOIN "ActivitiesCategories" AS a0 ON a."ActivitiesCategoryId" = a0."Id"
INNER JOIN "Organizers" AS o ON a."ActivitiesOrganizerId" = o."Id"
2023-05-20 21:04:53.411 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ActivitiesCategoryId", a."ActivitiesOrganizerId", a."AgeRange", a."Cost", a."DateEnd", a."DateStart", a."Description", a."Location", a."Title", a0."Id", a0."Description", a0."Name", o."Id", o."Address", o."Email", o."Fullname", o."Phone"
FROM "Activities" AS a
INNER JOIN "ActivitiesCategories" AS a0 ON a."ActivitiesCategoryId" = a0."Id"
INNER JOIN "Organizers" AS o ON a."ActivitiesOrganizerId" = o."Id"
2023-05-20 21:04:53.416 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:04:53.417 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:04:53.419 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:04:53.422 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 21:04:53.425 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 21:04:53.426 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 21:04:53.427 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 21:04:53.428 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 21:04:53.429 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 21:04:53.430 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.Activities, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-20 21:04:53.438 +03:00 [INF] Executed action Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor) in 191.1795ms
2023-05-20 21:04:53.442 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor)'
2023-05-20 21:04:53.451 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:04:53.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Activities - - - 200 - application/json;+charset=utf-8 241.8717ms
2023-05-20 21:05:05.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Activities/categories - -
2023-05-20 21:05:05.535 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:05:05.537 +03:00 [DBG] 2 candidate(s) found for the request path '/api/Activities/categories'
2023-05-20 21:05:05.538 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor)' with route pattern 'api/Activities/categories' is valid for the request path '/api/Activities/categories'
2023-05-20 21:05:05.540 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivity (Kidpaor)' with route pattern 'api/Activities/{id}' is valid for the request path '/api/Activities/categories'
2023-05-20 21:05:05.542 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor)'
2023-05-20 21:05:05.543 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:05:05.544 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:05:05.545 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor)'
2023-05-20 21:05:05.548 +03:00 [INF] Route matched with {action = "GetActivitiesCategories", controller = "Activities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.ActivitiesCategories]]] GetActivitiesCategories() on controller Kidpaor.Controllers.ActivitiesController (Kidpaor).
2023-05-20 21:05:05.550 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 21:05:05.551 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 21:05:05.553 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 21:05:05.555 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 21:05:05.558 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 21:05:05.561 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 21:05:05.563 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 21:05:05.567 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:05:05.569 +03:00 [DBG] Compiling query expression: 
'DbSet<ActivitiesCategories>()'
2023-05-20 21:05:05.575 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ActivitiesCategories>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ActivitiesCategories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ActivitiesCategories.Description (string), 1], [Property: ActivitiesCategories.Name (string), 2] }
        SELECT a.Id, a.Description, a.Name
        FROM ActivitiesCategories AS a), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ActivitiesCategories>, 
    Infrastructure.Data.StoreContext, 
    False, 
    False, 
    True
)'
2023-05-20 21:05:05.579 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:05:05.580 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:05:05.582 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:05:05.585 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:05:05.586 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Description", a."Name"
FROM "ActivitiesCategories" AS a
2023-05-20 21:05:05.593 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Description", a."Name"
FROM "ActivitiesCategories" AS a
2023-05-20 21:05:05.600 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:05:05.601 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:05:05.603 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:05:05.606 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 21:05:05.610 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 21:05:05.614 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 21:05:05.616 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 21:05:05.617 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 21:05:05.619 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 21:05:05.620 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.ActivitiesCategories, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-20 21:05:05.623 +03:00 [INF] Executed action Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor) in 61.3957ms
2023-05-20 21:05:05.627 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor)'
2023-05-20 21:05:05.629 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:05:05.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Activities/categories - - - 200 - application/json;+charset=utf-8 96.3666ms
2023-05-20 21:05:11.396 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Activities/organizers - -
2023-05-20 21:05:11.398 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:05:11.399 +03:00 [DBG] 2 candidate(s) found for the request path '/api/Activities/organizers'
2023-05-20 21:05:11.401 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesOrganizers (Kidpaor)' with route pattern 'api/Activities/organizers' is valid for the request path '/api/Activities/organizers'
2023-05-20 21:05:11.403 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivity (Kidpaor)' with route pattern 'api/Activities/{id}' is valid for the request path '/api/Activities/organizers'
2023-05-20 21:05:11.405 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesOrganizers (Kidpaor)'
2023-05-20 21:05:11.406 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:05:11.407 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:05:11.408 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesOrganizers (Kidpaor)'
2023-05-20 21:05:11.411 +03:00 [INF] Route matched with {action = "GetActivitiesOrganizers", controller = "Activities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.Organizers]]] GetActivitiesOrganizers() on controller Kidpaor.Controllers.ActivitiesController (Kidpaor).
2023-05-20 21:05:11.413 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 21:05:11.414 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 21:05:11.416 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 21:05:11.419 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 21:05:11.421 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 21:05:11.425 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 21:05:11.429 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 21:05:11.433 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:05:11.438 +03:00 [DBG] Compiling query expression: 
'DbSet<Organizers>()'
2023-05-20 21:05:11.442 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Organizers>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Organizers.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Organizers.Address (string), 1], [Property: Organizers.Email (string), 2], [Property: Organizers.Fullname (string), 3], [Property: Organizers.Phone (string), 4] }
        SELECT o.Id, o.Address, o.Email, o.Fullname, o.Phone
        FROM Organizers AS o), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Organizers>, 
    Infrastructure.Data.StoreContext, 
    False, 
    False, 
    True
)'
2023-05-20 21:05:11.446 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:05:11.447 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:05:11.449 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:05:11.451 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:05:11.456 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."Email", o."Fullname", o."Phone"
FROM "Organizers" AS o
2023-05-20 21:05:11.460 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."Email", o."Fullname", o."Phone"
FROM "Organizers" AS o
2023-05-20 21:05:11.463 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:05:11.464 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:05:11.465 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:05:11.467 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 21:05:11.471 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 21:05:11.473 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 21:05:11.474 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 21:05:11.475 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 21:05:11.476 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 21:05:11.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.Organizers, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-20 21:05:11.482 +03:00 [INF] Executed action Kidpaor.Controllers.ActivitiesController.GetActivitiesOrganizers (Kidpaor) in 57.685ms
2023-05-20 21:05:11.489 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesOrganizers (Kidpaor)'
2023-05-20 21:05:11.503 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:05:11.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Activities/organizers - - - 200 - application/json;+charset=utf-8 133.2329ms
2023-05-20 21:05:22.461 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents/kids - -
2023-05-20 21:05:22.472 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:05:22.478 +03:00 [DBG] 2 candidate(s) found for the request path '/api/Parents/kids'
2023-05-20 21:05:22.482 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetKids (Kidpaor)' with route pattern 'api/Parents/kids' is valid for the request path '/api/Parents/kids'
2023-05-20 21:05:22.484 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetActivity (Kidpaor)' with route pattern 'api/Parents/{id}' is valid for the request path '/api/Parents/kids'
2023-05-20 21:05:22.486 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetKids (Kidpaor)'
2023-05-20 21:05:22.487 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:05:22.488 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:05:22.489 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ParentsController.GetKids (Kidpaor)'
2023-05-20 21:05:22.494 +03:00 [INF] Route matched with {action = "GetKids", controller = "Parents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.Kids]]] GetKids() on controller Kidpaor.Controllers.ParentsController (Kidpaor).
2023-05-20 21:05:22.496 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 21:05:22.497 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 21:05:22.499 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 21:05:22.504 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 21:05:22.505 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 21:05:22.507 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 21:05:22.510 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 21:05:22.513 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:05:22.516 +03:00 [DBG] Compiling query expression: 
'DbSet<Kids>()'
2023-05-20 21:05:22.519 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Kids>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Kids.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Kids.Age (string) Required, 1], [Property: Kids.Fullname (string) Required, 2], [Property: Kids.ParentId (int) Required FK Index, 3] }
        SELECT k.Id, k.Age, k.Fullname, k.ParentId
        FROM Kids AS k), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Kids>, 
    Infrastructure.Data.StoreContext, 
    False, 
    False, 
    True
)'
2023-05-20 21:05:22.521 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:05:22.522 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:05:22.524 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:05:22.526 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:05:22.527 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT k."Id", k."Age", k."Fullname", k."ParentId"
FROM "Kids" AS k
2023-05-20 21:05:22.532 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT k."Id", k."Age", k."Fullname", k."ParentId"
FROM "Kids" AS k
2023-05-20 21:05:22.534 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:05:22.534 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:05:22.536 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:05:22.539 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 21:05:22.544 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 21:05:22.547 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 21:05:22.548 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 21:05:22.548 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 21:05:22.549 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 21:05:22.550 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.Kids, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-20 21:05:22.552 +03:00 [INF] Executed action Kidpaor.Controllers.ParentsController.GetKids (Kidpaor) in 45.4764ms
2023-05-20 21:05:22.556 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ParentsController.GetKids (Kidpaor)'
2023-05-20 21:05:22.557 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:05:22.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents/kids - - - 200 - application/json;+charset=utf-8 98.2190ms
2023-05-20 21:07:56.164 +03:00 [INF] Starting web application
2023-05-20 21:07:59.163 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 21:07:59.169 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 21:08:00.243 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 21:08:00.251 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 21:08:00.671 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:08:00.750 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 21:08:00.770 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:08:01.091 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:01.105 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:01.117 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:08:01.138 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:08:01.152 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-05-20 21:08:01.157 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:08:01.277 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:01.295 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:08:01.389 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:08:01.403 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:01.409 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:08:01.420 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:08:01.656 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:01.662 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:01.684 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:08:01.689 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:08:01.694 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-05-20 21:08:01.698 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:08:01.704 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:01.707 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:08:01.723 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:08:02.002 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.007 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:08:02.054 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:08:02.090 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (35ms).
2023-05-20 21:08:02.101 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:08:02.110 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.122 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:08:02.159 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:08:02.183 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:08:02.189 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.192 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:08:02.219 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:08:02.345 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:08:02.546 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.553 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.714 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.717 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.720 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.722 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:08:02.726 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-05-20 21:08:02.728 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.815 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.817 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:08:02.833 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:08:02.836 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.838 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.840 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.919 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.921 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.923 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.925 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:08:02.927 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:08:02.930 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.932 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.934 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:08:02.938 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:08:02.941 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.943 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.947 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:08:02.948 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:08:02.950 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.952 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.953 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:08:02.962 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:08:02.965 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:08:02.967 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:02.969 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:08:02.971 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:08:03.035 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 21:08:03.289 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 21:08:03.323 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:08:03.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 21:08:03.329 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:08:03.331 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:03.336 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:08:03.345 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:08:03.354 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:08:03.358 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:08:03.362 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:08:03.368 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:08:03.372 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:08:03.436 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 21:08:03.500 +03:00 [DBG] Hosting starting
2023-05-20 21:08:03.554 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 21:08:03.561 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 21:08:03.600 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 21:08:03.621 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 21:08:03.629 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:08:03.633 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 21:08:03.636 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:08:03.641 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 21:08:03.644 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 21:08:03.649 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 21:08:03.651 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 21:08:03.681 +03:00 [FTL] Application startup exception
System.InvalidOperationException: An error occurred when configuring the exception handler middleware. Either the 'ExceptionHandlingPath' or the 'ExceptionHandler' property must be set in 'UseExceptionHandler()'. Alternatively, set one of the aforementioned properties in 'Startup.ConfigureServices' as follows: 'services.AddExceptionHandler(options => { ... });'.
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware..ctor(RequestDelegate next, ILoggerFactory loggerFactory, IOptions`1 options, DiagnosticListener diagnosticListener)
   at Microsoft.AspNetCore.Builder.ExceptionHandlerExtensions.<>c__DisplayClass4_0.<SetExceptionHandlerMiddleware>b__0(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.<ConfigureApplication>b__27_0(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2023-05-20 21:08:03.887 +03:00 [FTL] Application terminated unexpectedly
System.InvalidOperationException: An error occurred when configuring the exception handler middleware. Either the 'ExceptionHandlingPath' or the 'ExceptionHandler' property must be set in 'UseExceptionHandler()'. Alternatively, set one of the aforementioned properties in 'Startup.ConfigureServices' as follows: 'services.AddExceptionHandler(options => { ... });'.
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware..ctor(RequestDelegate next, ILoggerFactory loggerFactory, IOptions`1 options, DiagnosticListener diagnosticListener)
   at Microsoft.AspNetCore.Builder.ExceptionHandlerExtensions.<>c__DisplayClass4_0.<SetExceptionHandlerMiddleware>b__0(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.<ConfigureApplication>b__27_0(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Microsoft.AspNetCore.Builder.WebApplication.Run(String url)
   at Kidpaor.Program.Main(String[] args) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Program.cs:line 84
2023-05-20 21:10:33.061 +03:00 [INF] Starting web application
2023-05-20 21:10:35.413 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 21:10:35.422 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 21:10:36.559 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 21:10:36.563 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 21:10:36.969 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:10:37.101 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 21:10:37.127 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:10:37.650 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:37.664 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:37.676 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:10:37.696 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:10:37.707 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-05-20 21:10:37.714 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:10:37.804 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:37.818 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:10:37.921 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:10:37.929 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:37.935 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:10:37.942 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:10:38.021 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.023 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.025 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:10:38.027 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:10:38.028 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:10:38.031 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:10:38.033 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.035 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:10:38.039 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:10:38.042 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.043 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:10:38.066 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:10:38.067 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:10:38.068 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:10:38.069 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.072 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:10:38.083 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:10:38.095 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:10:38.098 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.099 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:10:38.120 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:10:38.204 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:10:38.209 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.210 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.311 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.313 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.314 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.316 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:10:38.318 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:10:38.320 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.394 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.397 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:10:38.408 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:10:38.412 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.414 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.416 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.507 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.509 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.511 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.512 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:10:38.514 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:10:38.515 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.516 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.519 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:10:38.523 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:10:38.525 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.527 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.532 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:10:38.533 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:10:38.535 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.537 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.538 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:10:38.543 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:10:38.548 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:10:38.549 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.550 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:10:38.552 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:10:38.607 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 21:10:38.819 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 21:10:38.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:10:38.852 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 21:10:38.854 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:10:38.856 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.859 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:10:38.866 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:10:38.874 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:10:38.877 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:10:38.880 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:10:38.885 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:10:38.888 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:10:38.953 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 21:10:39.008 +03:00 [DBG] Hosting starting
2023-05-20 21:10:39.060 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 21:10:39.067 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 21:10:39.079 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 21:10:39.093 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 21:10:39.099 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:10:39.102 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 21:10:39.104 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:10:39.107 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 21:10:39.113 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 21:10:39.118 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 21:10:39.122 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 21:10:39.245 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 21:10:39.285 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 21:10:39.290 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 21:10:39.292 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 21:10:39.294 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 21:10:39.295 +03:00 [INF] Hosting environment: Development
2023-05-20 21:10:39.298 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 21:10:39.299 +03:00 [DBG] Hosting started
2023-05-20 21:10:43.467 +03:00 [DBG] Connection id "0HMQPBM3FQ2SI" accepted.
2023-05-20 21:10:43.471 +03:00 [DBG] Connection id "0HMQPBM3FQ2SI" started.
2023-05-20 21:10:43.534 +03:00 [DBG] Connection 0HMQPBM3FQ2SI established using the following protocol: "Tls12"
2023-05-20 21:10:43.572 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 21:10:43.576 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 21:10:43.600 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:10:43.639 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 21:10:43.643 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 21:10:43.646 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 21:10:43.648 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:10:44.293 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:10:44.300 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 21:10:44.308 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 21:10:44.313 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-05-20 21:10:44.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 400 - application/json 801.7069ms
2023-05-20 21:12:17.176 +03:00 [INF] Starting web application
2023-05-20 21:12:19.110 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 21:12:19.115 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 21:12:20.117 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 21:12:20.123 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 21:12:20.640 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:12:20.769 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 21:12:20.846 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:12:21.525 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:21.567 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:21.587 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:12:21.623 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:12:21.680 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (18ms).
2023-05-20 21:12:21.713 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:12:21.823 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:21.838 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:12:21.946 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:12:21.961 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:21.972 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:12:21.980 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:12:22.094 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.096 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.099 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:12:22.102 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:12:22.104 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:12:22.106 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:12:22.109 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.111 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:12:22.117 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:12:22.121 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.123 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:12:22.156 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:12:22.158 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:12:22.160 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:12:22.161 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.164 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:12:22.179 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:12:22.196 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:12:22.201 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.203 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:12:22.228 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:12:22.353 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:12:22.357 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.359 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.464 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.467 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.469 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.471 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:12:22.472 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:12:22.475 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.574 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.577 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:12:22.590 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:12:22.593 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.595 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.598 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.675 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.677 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.678 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.680 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:12:22.682 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:12:22.685 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.686 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.689 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:12:22.693 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:12:22.696 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.697 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.702 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:12:22.704 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 21:12:22.705 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.707 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.708 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:12:22.713 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:12:22.716 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:12:22.717 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:22.719 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:12:22.721 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:12:22.778 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 21:12:23.026 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 21:12:23.063 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:12:23.065 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:12:23.068 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:12:23.070 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:23.073 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:12:23.079 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:12:23.088 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:12:23.091 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:12:23.095 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:12:23.099 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:12:23.102 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:12:23.172 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 21:12:23.233 +03:00 [DBG] Hosting starting
2023-05-20 21:12:23.288 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 21:12:23.308 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 21:12:23.325 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 21:12:23.340 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 21:12:23.344 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:12:23.346 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 21:12:23.350 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:12:23.354 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 21:12:23.359 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 21:12:23.365 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 21:12:23.368 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 21:12:23.463 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 21:12:23.500 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 21:12:23.502 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 21:12:23.504 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 21:12:23.506 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 21:12:23.508 +03:00 [INF] Hosting environment: Development
2023-05-20 21:12:23.509 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 21:12:23.512 +03:00 [DBG] Hosting started
2023-05-20 21:12:23.670 +03:00 [DBG] Connection id "0HMQPBN1BECRT" accepted.
2023-05-20 21:12:23.673 +03:00 [DBG] Connection id "0HMQPBN1BECRT" started.
2023-05-20 21:12:23.704 +03:00 [DBG] Connection id "0HMQPBN1BECRU" accepted.
2023-05-20 21:12:23.705 +03:00 [DBG] Connection id "0HMQPBN1BECRU" started.
2023-05-20 21:12:23.732 +03:00 [DBG] Connection id "0HMQPBN1BECRT" received FIN.
2023-05-20 21:12:23.755 +03:00 [DBG] Connection 0HMQPBN1BECRU established using the following protocol: "Tls12"
2023-05-20 21:12:23.755 +03:00 [DBG] Connection 0HMQPBN1BECRT established using the following protocol: "Tls12"
2023-05-20 21:12:23.763 +03:00 [DBG] Connection id "0HMQPBN1BECRT" is closed. The last processed stream ID was 0.
2023-05-20 21:12:23.767 +03:00 [DBG] Connection id "0HMQPBN1BECRT" sending FIN because: "The client closed the connection."
2023-05-20 21:12:23.776 +03:00 [DBG] Connection id "0HMQPBN1BECRT" stopped.
2023-05-20 21:12:23.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 21:12:23.808 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 21:12:23.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 124.7119ms
2023-05-20 21:12:24.285 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 21:12:24.435 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.2236ms
2023-05-20 21:12:32.786 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/ke/Account - -
2023-05-20 21:12:32.789 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:12:32.823 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ke/Account'
2023-05-20 21:12:32.826 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/ke/Account' is valid for the request path '/api/ke/Account'
2023-05-20 21:12:32.830 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 21:12:32.831 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:12:32.938 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:12:32.947 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 21:12:32.953 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 21:12:32.958 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The path in 'value' must start with '/'. (Parameter 'value')
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-05-20 21:12:33.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/ke/Account - - - 400 - application/json 214.9830ms
2023-05-20 21:14:50.834 +03:00 [INF] Starting web application
2023-05-20 21:14:53.603 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 21:14:53.609 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 21:14:54.339 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 21:14:54.343 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 21:14:54.664 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:14:54.745 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 21:14:54.764 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.208 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.224 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.236 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.261 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:14:55.274 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (11ms).
2023-05-20 21:14:55.280 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.392 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.410 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:14:55.491 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:14:55.499 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.504 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.509 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.582 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.584 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.587 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.590 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:14:55.593 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 21:14:55.595 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.597 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.600 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:14:55.606 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:14:55.610 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.612 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:14:55.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:14:55.641 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.644 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.646 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:14:55.658 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:14:55.671 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:14:55.674 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.676 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:14:55.697 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:14:55.778 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:14:55.783 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 21:14:55.787 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:55.892 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.895 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.897 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:55.899 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:14:55.901 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:14:55.906 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:55.976 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.979 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:14:55.989 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:14:55.992 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:55.995 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:55.997 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:56.073 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:56.078 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:56.083 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:56.086 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:14:56.091 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-05-20 21:14:56.096 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:56.098 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:56.101 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:14:56.109 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:14:56.113 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:56.115 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:56.120 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:14:56.121 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:14:56.124 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:56.125 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:56.127 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:14:56.132 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:14:56.136 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:14:56.138 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:56.140 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:14:56.142 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:14:56.212 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 21:14:56.496 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 21:14:56.543 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:14:56.545 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:14:56.548 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:14:56.552 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:56.556 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:14:56.564 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:14:56.576 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:14:56.580 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:14:56.584 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:14:56.589 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:14:56.593 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:14:56.693 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 21:14:56.790 +03:00 [DBG] Hosting starting
2023-05-20 21:14:56.879 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 21:14:56.887 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 21:14:56.929 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 21:14:56.953 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 21:14:56.960 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:14:56.964 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 21:14:56.968 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:14:56.972 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 21:14:56.978 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 21:14:56.988 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 21:14:56.994 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 21:14:57.142 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 21:14:57.180 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 21:14:57.182 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 21:14:57.183 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 21:14:57.186 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 21:14:57.188 +03:00 [INF] Hosting environment: Development
2023-05-20 21:14:57.191 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 21:14:57.193 +03:00 [DBG] Hosting started
2023-05-20 21:14:58.109 +03:00 [DBG] Connection id "0HMQPBOFC8O1T" accepted.
2023-05-20 21:14:58.113 +03:00 [DBG] Connection id "0HMQPBOFC8O1T" started.
2023-05-20 21:14:58.201 +03:00 [DBG] Connection 0HMQPBOFC8O1T established using the following protocol: "Tls12"
2023-05-20 21:14:58.247 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 21:14:58.249 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 21:14:58.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 92.2996ms
2023-05-20 21:14:58.600 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 21:14:58.770 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 170.0362ms
2023-05-20 21:15:02.957 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 21:15:02.961 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:15:02.996 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 21:15:02.999 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 21:15:03.002 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 21:15:03.003 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:15:03.732 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:15:03.740 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 21:15:03.749 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 21:15:03.751 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 401 0 - 793.8450ms
2023-05-20 21:15:30.688 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/login application/json 55
2023-05-20 21:15:30.695 +03:00 [DBG] POST requests are not supported
2023-05-20 21:15:30.697 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/login'
2023-05-20 21:15:30.699 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)' with route pattern 'api/Account/login' is valid for the request path '/api/Account/login'
2023-05-20 21:15:30.701 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 21:15:30.702 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:15:30.703 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 21:15:30.704 +03:00 [INF] CORS policy execution successful.
2023-05-20 21:15:30.707 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:15:30.710 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 21:15:30.728 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Login(Kidpaor.Dtos.LoginDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 21:15:30.733 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 21:15:30.736 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 21:15:30.739 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 21:15:30.742 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 21:15:30.744 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 21:15:30.746 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 21:15:30.902 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 21:15:30.907 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 21:15:30.912 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' using the name '' in request data ...
2023-05-20 21:15:30.915 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 21:15:30.919 +03:00 [DBG] Connection id "0HMQPBOFC8O1T", Request id "0HMQPBOFC8O1T:00000007": started reading request body.
2023-05-20 21:15:30.921 +03:00 [DBG] Connection id "0HMQPBOFC8O1T", Request id "0HMQPBOFC8O1T:00000007": done reading request body.
2023-05-20 21:15:30.930 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.LoginDto'
2023-05-20 21:15:30.932 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 21:15:30.933 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 21:15:30.935 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 21:15:30.943 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 21:15:30.978 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:15:30.992 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Where(u => u.NormalizedEmail == __normalizedEmail_0)
    .SingleOrDefault()'
2023-05-20 21:15:31.070 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AppUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.DisplayName (string) Required, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.LockoutEnabled (bool) Required, 6], [Property: AppUser.LockoutEnd (DateTimeOffset?), 7], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: AppUser.PasswordHash (string), 10], [Property: AppUser.PhoneNumber (string), 11], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 12], [Property: AppUser.SecurityStamp (string), 13], [Property: AppUser.TwoFactorEnabled (bool) Required, 14], [Property: AppUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DisplayName, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.NormalizedEmail == @__normalizedEmail_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-05-20 21:15:31.102 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:15:31.106 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 21:15:31.116 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:15:31.118 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:15:31.125 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 21:15:31.146 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 21:15:31.190 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 21:15:31.230 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:15:31.231 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:15:31.233 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:15:31.701 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 21:15:31.710 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 21:15:31.713 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 21:15:31.715 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 21:15:31.717 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 21:15:31.719 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 21:15:31.722 +03:00 [INF] Executing ObjectResult, writing value of type 'Kidpaor.Dtos.UserDto'.
2023-05-20 21:15:31.736 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Login (Kidpaor) in 983.143ms
2023-05-20 21:15:31.739 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 21:15:31.742 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:15:31.745 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/login application/json 55 - 200 - application/json;+charset=utf-8 1056.3062ms
2023-05-20 21:15:37.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 21:15:37.235 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:15:37.237 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 21:15:37.238 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 21:15:37.240 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 21:15:37.241 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:15:37.242 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:15:37.244 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 21:15:37.246 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 21:15:37.247 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 401 0 - 13.6278ms
2023-05-20 21:16:51.357 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/login application/json 55
2023-05-20 21:16:51.373 +03:00 [DBG] POST requests are not supported
2023-05-20 21:16:51.375 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/login'
2023-05-20 21:16:51.377 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)' with route pattern 'api/Account/login' is valid for the request path '/api/Account/login'
2023-05-20 21:16:51.379 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 21:16:51.383 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:16:51.387 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 21:16:51.388 +03:00 [INF] CORS policy execution successful.
2023-05-20 21:16:51.390 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:16:51.391 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 21:16:51.392 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Login(Kidpaor.Dtos.LoginDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 21:16:51.395 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 21:16:51.398 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 21:16:51.401 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 21:16:51.403 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 21:16:51.405 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 21:16:51.407 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 21:16:51.416 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 21:16:51.426 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 21:16:51.427 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' using the name '' in request data ...
2023-05-20 21:16:51.429 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 21:16:51.431 +03:00 [DBG] Connection id "0HMQPBOFC8O1T", Request id "0HMQPBOFC8O1T:0000000B": started reading request body.
2023-05-20 21:16:51.434 +03:00 [DBG] Connection id "0HMQPBOFC8O1T", Request id "0HMQPBOFC8O1T:0000000B": done reading request body.
2023-05-20 21:16:51.435 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.LoginDto'
2023-05-20 21:16:51.436 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 21:16:51.438 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 21:16:51.439 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 21:16:51.441 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 21:16:51.443 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:16:51.449 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:16:51.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:16:51.452 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:16:51.453 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:16:51.455 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 21:16:51.457 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 21:16:51.459 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 21:16:51.461 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:16:51.462 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:16:51.462 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:16:51.472 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 21:16:51.474 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 21:16:51.475 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 21:16:51.477 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 21:16:51.478 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 21:16:51.479 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 21:16:51.480 +03:00 [INF] Executing ObjectResult, writing value of type 'Kidpaor.Dtos.UserDto'.
2023-05-20 21:16:51.482 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Login (Kidpaor) in 74.9128ms
2023-05-20 21:16:51.484 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 21:16:51.487 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:16:51.488 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/login application/json 55 - 200 - application/json;+charset=utf-8 131.3862ms
2023-05-20 21:17:00.385 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 21:17:00.388 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:17:00.390 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 21:17:00.391 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 21:17:00.393 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 21:17:00.395 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:17:00.396 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:17:00.398 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 21:17:00.399 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 21:17:00.400 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 401 0 - 14.8493ms
2023-05-20 21:17:04.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 21:17:04.113 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:17:04.114 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 21:17:04.117 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 21:17:04.119 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 21:17:04.121 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:17:04.122 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:17:04.124 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 21:17:04.125 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 21:17:04.126 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 401 0 - 14.0326ms
2023-05-20 21:18:20.082 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Account - -
2023-05-20 21:18:20.089 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:18:20.090 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account'
2023-05-20 21:18:20.093 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)' with route pattern 'api/Account' is valid for the request path '/api/Account'
2023-05-20 21:18:20.095 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 21:18:20.097 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:18:20.187 +03:00 [DBG] Successfully validated the token.
2023-05-20 21:18:20.189 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 21:18:20.191 +03:00 [DBG] Authorization was successful.
2023-05-20 21:18:20.193 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 21:18:20.196 +03:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] GetCurrentUser() on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 21:18:20.199 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 21:18:20.200 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 21:18:20.201 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 21:18:20.203 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 21:18:20.204 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 21:18:20.206 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 21:18:20.209 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 21:18:20.213 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:18:20.219 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(x => x.Email == __email_0)'
2023-05-20 21:18:20.226 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.DisplayName (string) Required, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.LockoutEnabled (bool) Required, 6], [Property: AppUser.LockoutEnd (DateTimeOffset?), 7], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: AppUser.PasswordHash (string), 10], [Property: AppUser.PhoneNumber (string), 11], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 12], [Property: AppUser.SecurityStamp (string), 13], [Property: AppUser.TwoFactorEnabled (bool) Required, 14], [Property: AppUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DisplayName, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Email == @__email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 21:18:20.239 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:18:20.240 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:18:20.242 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:18:20.243 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:18:20.245 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 2
2023-05-20 21:18:20.249 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Email" = @__email_0
LIMIT 2
2023-05-20 21:18:20.257 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 21:18:20.261 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:18:20.262 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:18:20.263 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:18:20.270 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 21:18:20.274 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 21:18:20.275 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 21:18:20.278 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 21:18:20.278 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 21:18:20.279 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 21:18:20.284 +03:00 [INF] Executing ObjectResult, writing value of type 'Kidpaor.Dtos.UserDto'.
2023-05-20 21:18:20.287 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor) in 81.384ms
2023-05-20 21:18:20.292 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.GetCurrentUser (Kidpaor)'
2023-05-20 21:18:20.301 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:18:20.302 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Account - - - 200 - application/json;+charset=utf-8 220.2753ms
2023-05-20 21:22:55.183 +03:00 [INF] Starting web application
2023-05-20 21:22:57.058 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 21:22:57.065 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 21:22:57.931 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 21:22:57.936 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 21:22:58.289 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:22:58.370 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 21:22:58.389 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:22:58.897 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:58.915 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:58.931 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:22:58.959 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:22:58.972 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (11ms).
2023-05-20 21:22:58.979 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:22:59.073 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.091 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:22:59.186 +03:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:22:59.197 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.203 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:22:59.211 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:22:59.296 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.298 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.300 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:22:59.302 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:22:59.308 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-05-20 21:22:59.310 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:22:59.313 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.315 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:22:59.332 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:22:59.342 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.345 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:22:59.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:22:59.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:22:59.378 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:22:59.380 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.384 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:22:59.399 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:22:59.418 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:22:59.422 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.424 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:22:59.449 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:22:59.559 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:22:59.563 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 21:22:59.565 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:22:59.693 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.695 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.697 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:22:59.699 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:22:59.701 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:22:59.704 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:22:59.914 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.916 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:22:59.930 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:22:59.937 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:22:59.939 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:22:59.942 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:23:00.064 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:23:00.066 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:23:00.075 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:23:00.078 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:23:00.081 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 21:23:00.083 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:23:00.086 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:23:00.089 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:23:00.097 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:23:00.102 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:23:00.104 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:23:00.110 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:23:00.114 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 21:23:00.119 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:23:00.187 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:23:00.193 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:23:00.202 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:23:00.210 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:23:00.214 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:23:00.217 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:23:00.222 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:23:00.346 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 21:23:00.815 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 21:23:00.869 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:23:00.871 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:23:00.875 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:23:00.878 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:23:00.881 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:23:00.889 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:23:00.900 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:23:00.903 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:23:00.906 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:23:00.912 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:23:00.916 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:23:01.001 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 21:23:01.064 +03:00 [DBG] Hosting starting
2023-05-20 21:23:01.117 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 21:23:01.123 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 21:23:01.138 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 21:23:01.153 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 21:23:01.159 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:23:01.161 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 21:23:01.165 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:23:01.169 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 21:23:01.174 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 21:23:01.181 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 21:23:01.184 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 21:23:01.295 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 21:23:01.333 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 21:23:01.334 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 21:23:01.336 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 21:23:01.339 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 21:23:01.340 +03:00 [INF] Hosting environment: Development
2023-05-20 21:23:01.341 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 21:23:01.343 +03:00 [DBG] Hosting started
2023-05-20 21:27:58.019 +03:00 [INF] Starting web application
2023-05-20 21:27:59.755 +03:00 [FTL] Application terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Kidpaor.Program.Main(String[] args) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Program.cs:line 36
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2023-05-20 21:29:29.831 +03:00 [INF] Starting web application
2023-05-20 21:29:32.555 +03:00 [FTL] Application terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Kidpaor.Program.Main(String[] args) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Program.cs:line 36
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2023-05-20 21:41:26.435 +03:00 [INF] Starting web application
2023-05-20 21:41:28.054 +03:00 [FTL] Application terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Kidpaor.Program.Main(String[] args) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Program.cs:line 36
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2023-05-20 21:42:15.301 +03:00 [INF] Starting web application
2023-05-20 21:42:17.564 +03:00 [FTL] Application terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Kidpaor.Program.Main(String[] args) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Program.cs:line 36
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2023-05-20 21:43:16.595 +03:00 [INF] Starting web application
2023-05-20 21:43:18.717 +03:00 [FTL] Application terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Kidpaor.Program.Main(String[] args) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Program.cs:line 36
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2023-05-20 21:46:35.643 +03:00 [INF] Starting web application
2023-05-20 21:46:38.409 +03:00 [FTL] Application terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Kidpaor.Program.Main(String[] args) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Program.cs:line 36
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2023-05-20 21:49:18.193 +03:00 [INF] Starting web application
2023-05-20 21:49:20.025 +03:00 [FTL] Application terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Kidpaor.Program.Main(String[] args) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Program.cs:line 36
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Core.Entities.Identity.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Core.Entities.Identity.AppUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Core.Entities.Identity.AppUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2023-05-20 21:54:51.360 +03:00 [INF] Starting web application
2023-05-20 21:54:53.263 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 21:54:53.269 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 21:54:54.097 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 21:54:54.102 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 21:54:54.453 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:54:54.540 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 21:54:54.556 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:54:54.968 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:54.982 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:54.995 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:54:55.018 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:54:55.035 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (11ms).
2023-05-20 21:54:55.044 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:54:55.148 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.164 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:54:55.283 +03:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:54:55.296 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.302 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:54:55.308 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:54:55.431 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.452 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.455 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:54:55.459 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:54:55.462 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 21:54:55.465 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:54:55.469 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.473 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:54:55.510 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:54:55.515 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.517 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:54:55.553 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:54:55.555 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:54:55.557 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:54:55.559 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.561 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:54:55.576 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:54:55.591 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:54:55.595 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.597 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:54:55.617 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:54:55.712 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:54:55.718 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 21:54:55.729 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:55.842 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.844 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.846 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:55.848 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:54:55.849 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:54:55.852 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:55.920 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.922 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:54:55.931 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:54:55.933 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:55.935 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:55.936 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:56.001 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:56.003 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:56.004 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:56.006 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 21:54:56.007 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 21:54:56.009 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:56.010 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:56.012 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:54:56.015 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 21:54:56.017 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:56.020 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:56.023 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:54:56.024 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:54:56.025 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:56.027 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:56.028 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:54:56.033 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 21:54:56.036 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:54:56.037 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:56.039 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 21:54:56.040 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 21:54:56.095 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 21:54:56.296 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 21:54:56.324 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:54:56.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 21:54:56.330 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:54:56.332 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:56.335 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:54:56.342 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 21:54:56.351 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:54:56.353 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:54:56.355 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:54:56.358 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:54:56.361 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 21:54:56.421 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 21:54:56.526 +03:00 [DBG] Hosting starting
2023-05-20 21:54:56.583 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 21:54:56.589 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 21:54:56.622 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 21:54:56.641 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 21:54:56.646 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:54:56.648 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 21:54:56.651 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 21:54:56.656 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 21:54:56.660 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 21:54:56.667 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 21:54:56.670 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 21:54:56.822 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 21:54:56.859 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 21:54:56.861 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 21:54:56.862 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 21:54:56.865 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 21:54:56.865 +03:00 [INF] Hosting environment: Development
2023-05-20 21:54:56.867 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 21:54:56.867 +03:00 [DBG] Hosting started
2023-05-20 21:55:12.596 +03:00 [DBG] Connection id "0HMQPCEUUJU6O" accepted.
2023-05-20 21:55:12.598 +03:00 [DBG] Connection id "0HMQPCEUUJU6O" started.
2023-05-20 21:55:12.672 +03:00 [DBG] Connection 0HMQPCEUUJU6O established using the following protocol: "Tls12"
2023-05-20 21:55:12.722 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 21:55:12.726 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 21:55:12.761 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:55:12.808 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 21:55:12.810 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 21:55:12.814 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 21:55:12.816 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:55:13.357 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:55:13.367 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Organizer)
2023-05-20 21:55:13.376 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 21:55:13.386 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 401 0 - 666.0942ms
2023-05-20 21:55:31.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 21:55:31.434 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 82.5026ms
2023-05-20 21:55:31.662 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 21:55:31.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.2605ms
2023-05-20 21:55:58.185 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 21:55:58.196 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:55:58.198 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 21:55:58.199 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 21:55:58.201 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 21:55:58.203 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:55:58.205 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:55:58.207 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Organizer)
2023-05-20 21:55:58.210 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 21:55:58.211 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 401 0 - 26.5047ms
2023-05-20 21:56:15.178 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 21:56:15.184 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 21:56:15.187 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 21:56:15.190 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 21:56:15.193 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 21:56:15.194 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:56:15.643 +03:00 [DBG] Successfully validated the token.
2023-05-20 21:56:15.646 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 21:56:15.648 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Organizer)
2023-05-20 21:56:15.653 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 21:56:15.657 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 479.8183ms
2023-05-20 21:56:55.409 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 103
2023-05-20 21:56:55.420 +03:00 [DBG] POST requests are not supported
2023-05-20 21:56:55.421 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 21:56:55.422 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 21:56:55.423 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 21:56:55.424 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 21:56:55.426 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 21:56:55.427 +03:00 [INF] CORS policy execution successful.
2023-05-20 21:56:55.428 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 21:56:55.430 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 21:56:55.456 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Register(Kidpaor.Dtos.RegisterDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 21:56:55.460 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 21:56:55.462 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 21:56:55.466 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 21:56:55.470 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 21:56:55.472 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 21:56:55.475 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 21:56:55.638 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 21:56:55.643 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 21:56:55.646 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' using the name '' in request data ...
2023-05-20 21:56:55.650 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 21:56:55.656 +03:00 [DBG] Connection id "0HMQPCEUUJU6O", Request id "0HMQPCEUUJU6O:0000000B": started reading request body.
2023-05-20 21:56:55.659 +03:00 [DBG] Connection id "0HMQPCEUUJU6O", Request id "0HMQPCEUUJU6O:0000000B": done reading request body.
2023-05-20 21:56:55.668 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.RegisterDto'
2023-05-20 21:56:55.670 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 21:56:55.672 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 21:56:55.673 +03:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 21:56:55.683 +03:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 21:56:55.756 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 21:56:55.777 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-05-20 21:56:55.851 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.DisplayName (string) Required, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.LockoutEnabled (bool) Required, 6], [Property: AppUser.LockoutEnd (DateTimeOffset?), 7], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: AppUser.PasswordHash (string), 10], [Property: AppUser.PhoneNumber (string), 11], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 12], [Property: AppUser.SecurityStamp (string), 13], [Property: AppUser.TwoFactorEnabled (bool) Required, 14], [Property: AppUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DisplayName, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 21:56:55.874 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:56:55.878 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 21:56:55.883 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:56:55.885 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:56:55.890 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 21:56:55.908 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 21:56:55.919 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:56:55.921 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:56:55.924 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:56:56.023 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 21:56:56.028 +03:00 [DBG] SaveChanges starting for 'AppIdentityDbContext'.
2023-05-20 21:56:56.035 +03:00 [DBG] DetectChanges starting for 'AppIdentityDbContext'.
2023-05-20 21:56:56.058 +03:00 [DBG] DetectChanges completed for 'AppIdentityDbContext'.
2023-05-20 21:56:56.074 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:56:56.076 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:56:56.079 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-20 21:56:56.086 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-05-20 21:56:56.135 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:56:56.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:56:56.140 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "DisplayName", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-05-20 21:56:56.152 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "DisplayName", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-05-20 21:56:56.160 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:56:56.166 +03:00 [DBG] Committing transaction.
2023-05-20 21:56:56.176 +03:00 [DBG] Committed transaction.
2023-05-20 21:56:56.180 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:56:56.183 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:56:56.188 +03:00 [DBG] Disposing transaction.
2023-05-20 21:56:56.203 +03:00 [DBG] An entity of type 'AppUser' tracked by 'AppIdentityDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 21:56:56.210 +03:00 [DBG] SaveChanges completed for 'AppIdentityDbContext' with 1 entities written to the database.
2023-05-20 21:56:56.219 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-05-20 21:56:56.226 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 21:56:56.230 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:56:56.231 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:56:56.233 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:56:56.235 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:56:56.238 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 21:56:56.249 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 21:56:56.253 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:56:56.256 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:56:56.258 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:56:56.271 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 21:56:56.273 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 21:56:56.276 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 21:56:56.277 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:56:56.280 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 21:56:56.287 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 21:56:56.291 +03:00 [DBG] A data reader was disposed.
2023-05-20 21:56:56.293 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 21:56:56.295 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 21:56:56.488 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Register (Kidpaor) in 1008.8765ms
2023-05-20 21:56:56.492 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 21:56:56.502 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Role ADMIN does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRoleAsync(TUser user, String role)
   at Kidpaor.Controllers.AccountController.Register(RegisterDto registerDto) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Controllers\AccountController.cs:line 91
   at lambda_method23(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-05-20 21:56:56.584 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 21:56:56.587 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/register application/json 103 - 400 - application/json 1179.5433ms
2023-05-20 22:00:26.904 +03:00 [INF] Starting web application
2023-05-20 22:00:29.617 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:00:29.623 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:00:30.598 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:00:30.603 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:00:30.914 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:00:30.975 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:00:30.990 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.284 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.296 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.305 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.321 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:00:31.332 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-05-20 22:00:31.339 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.519 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.536 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:00:31.627 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:00:31.633 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.638 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.643 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.730 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.732 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.734 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.737 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:00:31.739 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:00:31.740 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.742 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.745 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:00:31.750 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:00:31.753 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.755 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.776 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:00:31.778 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:00:31.779 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.780 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.783 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:00:31.796 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:00:31.812 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:00:31.815 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:31.816 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:00:31.832 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:00:31.910 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:00:31.913 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:00:31.915 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.015 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.018 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.019 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.021 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:00:32.022 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:00:32.025 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.101 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.104 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:00:32.113 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:00:32.116 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.117 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.119 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.184 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.187 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.189 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.191 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:00:32.193 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 22:00:32.195 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.197 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.199 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:00:32.203 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:00:32.206 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.208 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.211 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:00:32.214 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 22:00:32.216 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.221 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.225 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:00:32.231 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:00:32.234 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:00:32.235 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.237 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:00:32.239 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:00:32.304 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:00:32.519 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:00:32.560 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:00:32.562 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:00:32.566 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:00:32.571 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.574 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:00:32.585 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:00:32.594 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:00:32.598 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:32.600 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:00:32.604 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:00:32.606 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:00:32.667 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:00:32.719 +03:00 [DBG] Hosting starting
2023-05-20 22:00:32.775 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:00:32.782 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:00:32.812 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:00:32.827 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:00:32.833 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:00:32.837 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:00:32.841 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:00:32.846 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:00:32.851 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:00:32.856 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:00:32.858 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:00:32.971 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:00:33.003 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:00:33.007 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:00:33.008 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:00:33.010 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:00:33.011 +03:00 [INF] Hosting environment: Development
2023-05-20 22:00:33.012 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:00:33.014 +03:00 [DBG] Hosting started
2023-05-20 22:00:47.200 +03:00 [DBG] Connection id "0HMQPCI2LL950" accepted.
2023-05-20 22:00:47.203 +03:00 [DBG] Connection id "0HMQPCI2LL950" started.
2023-05-20 22:00:47.275 +03:00 [DBG] Connection 0HMQPCI2LL950 established using the following protocol: "Tls12"
2023-05-20 22:00:47.320 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 103
2023-05-20 22:00:47.324 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:00:47.352 +03:00 [DBG] POST requests are not supported
2023-05-20 22:00:47.395 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 22:00:47.398 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 22:00:47.402 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:00:47.404 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:00:47.407 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 22:00:47.409 +03:00 [INF] CORS policy execution successful.
2023-05-20 22:00:48.281 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 22:00:48.286 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:00:48.306 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Register(Kidpaor.Dtos.RegisterDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 22:00:48.310 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:00:48.312 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:00:48.314 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:00:48.318 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:00:48.320 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:00:48.324 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:00:48.505 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:00:48.515 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:00:48.521 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' using the name '' in request data ...
2023-05-20 22:00:48.524 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 22:00:48.541 +03:00 [DBG] Connection id "0HMQPCI2LL950", Request id "0HMQPCI2LL950:00000001": started reading request body.
2023-05-20 22:00:48.544 +03:00 [DBG] Connection id "0HMQPCI2LL950", Request id "0HMQPCI2LL950:00000001": done reading request body.
2023-05-20 22:00:48.553 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.RegisterDto'
2023-05-20 22:00:48.555 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:00:48.557 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:00:48.560 +03:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:00:48.569 +03:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:00:48.632 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:00:48.648 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-05-20 22:00:48.731 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.DisplayName (string) Required, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.LockoutEnabled (bool) Required, 6], [Property: AppUser.LockoutEnd (DateTimeOffset?), 7], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: AppUser.PasswordHash (string), 10], [Property: AppUser.PhoneNumber (string), 11], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 12], [Property: AppUser.SecurityStamp (string), 13], [Property: AppUser.TwoFactorEnabled (bool) Required, 14], [Property: AppUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DisplayName, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:00:48.762 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:00:48.765 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:00:48.770 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:00:48.771 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:48.777 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:00:48.791 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:00:48.840 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:00:48.872 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:00:48.873 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:00:48.874 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:00:48.880 +03:00 [WRN] User validation failed: DuplicateUserName.
2023-05-20 22:00:48.889 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 22:00:48.896 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 22:00:48.898 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 22:00:48.901 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 22:00:48.902 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 22:00:48.903 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 22:00:48.905 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Kidpaor.Errors.ApiResponse'.
2023-05-20 22:00:48.923 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Register (Kidpaor) in 595.1423ms
2023-05-20 22:00:48.926 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:00:48.935 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:00:48.939 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/register application/json 103 - 400 - application/json;+charset=utf-8 1620.6808ms
2023-05-20 22:01:03.615 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:01:03.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 59.2982ms
2023-05-20 22:01:03.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:01:04.026 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.2163ms
2023-05-20 22:01:14.928 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 103
2023-05-20 22:01:14.930 +03:00 [DBG] POST requests are not supported
2023-05-20 22:01:14.934 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 22:01:14.937 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 22:01:14.942 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:01:14.944 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:01:14.946 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 22:01:14.949 +03:00 [INF] CORS policy execution successful.
2023-05-20 22:01:14.950 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 22:01:14.952 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:01:14.954 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Register(Kidpaor.Dtos.RegisterDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 22:01:14.958 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:01:14.963 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:01:14.967 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:01:14.969 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:01:14.971 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:01:14.974 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:01:14.989 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:01:14.992 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:01:14.996 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' using the name '' in request data ...
2023-05-20 22:01:14.999 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 22:01:15.000 +03:00 [DBG] Connection id "0HMQPCI2LL950", Request id "0HMQPCI2LL950:00000007": started reading request body.
2023-05-20 22:01:15.002 +03:00 [DBG] Connection id "0HMQPCI2LL950", Request id "0HMQPCI2LL950:00000007": done reading request body.
2023-05-20 22:01:15.003 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.RegisterDto'
2023-05-20 22:01:15.005 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:01:15.007 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:01:15.009 +03:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:01:15.010 +03:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:01:15.022 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:01:15.031 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:01:15.033 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:01:15.035 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:01:15.037 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:01:15.039 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:01:15.048 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:01:15.053 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:01:15.056 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:01:15.059 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:01:15.063 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:01:15.065 +03:00 [WRN] User validation failed: DuplicateUserName.
2023-05-20 22:01:15.067 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 22:01:15.070 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 22:01:15.073 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 22:01:15.079 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 22:01:15.081 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 22:01:15.082 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 22:01:15.085 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Kidpaor.Errors.ApiResponse'.
2023-05-20 22:01:15.090 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Register (Kidpaor) in 116.2333ms
2023-05-20 22:01:15.094 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:01:15.095 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:01:15.097 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/register application/json 103 - 400 - application/json;+charset=utf-8 169.0569ms
2023-05-20 22:01:44.016 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 103
2023-05-20 22:01:44.025 +03:00 [DBG] POST requests are not supported
2023-05-20 22:01:44.026 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 22:01:44.027 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 22:01:44.029 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:01:44.030 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:01:44.033 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 22:01:44.035 +03:00 [INF] CORS policy execution successful.
2023-05-20 22:01:44.037 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 22:01:44.038 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:01:44.039 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Register(Kidpaor.Dtos.RegisterDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 22:01:44.042 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:01:44.043 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:01:44.045 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:01:44.047 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:01:44.049 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:01:44.050 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:01:44.053 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:01:44.055 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:01:44.056 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' using the name '' in request data ...
2023-05-20 22:01:44.057 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 22:01:44.058 +03:00 [DBG] Connection id "0HMQPCI2LL950", Request id "0HMQPCI2LL950:00000009": started reading request body.
2023-05-20 22:01:44.059 +03:00 [DBG] Connection id "0HMQPCI2LL950", Request id "0HMQPCI2LL950:00000009": done reading request body.
2023-05-20 22:01:44.060 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.RegisterDto'
2023-05-20 22:01:44.061 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:01:44.063 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:01:44.064 +03:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:01:44.065 +03:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:01:44.075 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:01:44.081 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:01:44.084 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:01:44.086 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:01:44.088 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:01:44.090 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:01:44.098 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:01:44.103 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:01:44.105 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:01:44.106 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:01:44.107 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:01:44.109 +03:00 [WRN] User validation failed: DuplicateUserName.
2023-05-20 22:01:44.110 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 22:01:44.112 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 22:01:44.114 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 22:01:44.115 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 22:01:44.116 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 22:01:44.118 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 22:01:44.119 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Kidpaor.Errors.ApiResponse'.
2023-05-20 22:01:44.121 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Register (Kidpaor) in 70.8354ms
2023-05-20 22:01:44.122 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:01:44.124 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:01:44.126 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/register application/json 103 - 400 - application/json;+charset=utf-8 110.5380ms
2023-05-20 22:02:03.989 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 103
2023-05-20 22:02:03.990 +03:00 [DBG] POST requests are not supported
2023-05-20 22:02:03.992 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 22:02:03.994 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 22:02:03.996 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:02:04.000 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:02:04.001 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 22:02:04.003 +03:00 [INF] CORS policy execution successful.
2023-05-20 22:02:04.004 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 22:02:04.005 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:02:04.006 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Register(Kidpaor.Dtos.RegisterDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 22:02:04.010 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:02:04.012 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:02:04.015 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:02:04.017 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:02:04.019 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:02:04.020 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:02:04.022 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:02:04.023 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:02:04.024 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' using the name '' in request data ...
2023-05-20 22:02:04.025 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 22:02:04.027 +03:00 [DBG] Connection id "0HMQPCI2LL950", Request id "0HMQPCI2LL950:0000000B": started reading request body.
2023-05-20 22:02:04.029 +03:00 [DBG] Connection id "0HMQPCI2LL950", Request id "0HMQPCI2LL950:0000000B": done reading request body.
2023-05-20 22:02:04.031 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.RegisterDto'
2023-05-20 22:02:04.032 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:02:04.033 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:02:04.035 +03:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:02:04.037 +03:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:02:47.275 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:02:47.280 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:02:47.281 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:02:47.283 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:02:47.284 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:02:47.287 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:02:47.294 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:02:47.408 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:02:47.410 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:02:47.411 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:02:47.412 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:02:47.413 +03:00 [WRN] User validation failed: DuplicateUserName.
2023-05-20 22:03:55.851 +03:00 [INF] Starting web application
2023-05-20 22:03:57.765 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:03:57.770 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:03:58.670 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:03:58.676 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:03:59.057 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:03:59.128 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:03:59.145 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:03:59.615 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:03:59.648 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:03:59.664 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:03:59.693 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:03:59.710 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (13ms).
2023-05-20 22:03:59.718 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:03:59.831 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:03:59.854 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:03:59.982 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:03:59.998 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.014 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:04:00.023 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:04:00.124 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.127 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.129 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:04:00.137 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:04:00.139 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 22:04:00.141 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:04:00.146 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.149 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:04:00.167 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:04:00.172 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.174 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:04:00.209 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:04:00.211 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:04:00.213 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:04:00.216 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.219 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:04:00.234 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:04:00.253 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:04:00.256 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.258 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:04:00.280 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:04:00.406 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:04:00.412 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.414 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.531 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.533 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.536 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.538 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:04:00.539 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:04:00.558 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.626 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.628 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:04:00.640 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:04:00.644 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.647 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.650 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.740 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.742 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.743 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.745 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:04:00.747 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:04:00.748 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.751 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.752 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:04:00.757 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:04:00.760 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.762 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.765 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:04:00.766 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:04:00.768 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.770 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.773 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:04:00.778 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:04:00.783 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:04:00.784 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:00.786 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:04:00.790 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:04:00.844 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:04:01.059 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:04:01.152 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:04:01.153 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:04:01.158 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:04:01.161 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:01.165 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:04:01.175 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:04:01.189 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:04:01.194 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:04:01.196 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:04:01.202 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:04:01.206 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:04:01.270 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:04:01.325 +03:00 [DBG] Hosting starting
2023-05-20 22:04:01.382 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:04:01.387 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:04:01.403 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:04:01.418 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:04:01.424 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:04:01.428 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:04:01.432 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:04:01.436 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:04:01.441 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:04:01.447 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:04:01.450 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:04:01.552 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:04:01.586 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:04:01.587 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:04:01.590 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:04:01.592 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:04:01.594 +03:00 [INF] Hosting environment: Development
2023-05-20 22:04:01.596 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:04:01.598 +03:00 [DBG] Hosting started
2023-05-20 22:05:09.730 +03:00 [DBG] Connection id "0HMQPCKGTA0CM" accepted.
2023-05-20 22:05:09.734 +03:00 [DBG] Connection id "0HMQPCKGTA0CM" started.
2023-05-20 22:05:09.844 +03:00 [DBG] Connection 0HMQPCKGTA0CM established using the following protocol: "Tls12"
2023-05-20 22:05:09.899 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:05:09.901 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:05:10.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 105.6582ms
2023-05-20 22:05:10.363 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:05:10.532 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.1451ms
2023-05-20 22:05:26.764 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 103
2023-05-20 22:05:26.769 +03:00 [DBG] POST requests are not supported
2023-05-20 22:05:26.809 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 22:05:26.811 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 22:05:26.814 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:05:26.817 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:05:26.821 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 22:05:26.823 +03:00 [INF] CORS policy execution successful.
2023-05-20 22:05:26.897 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 22:05:26.901 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:05:26.931 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Register(Kidpaor.Dtos.RegisterDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 22:05:26.935 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:05:26.938 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:05:26.941 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:05:26.944 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:05:26.946 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:05:26.947 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:05:27.079 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:05:27.085 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:05:27.090 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' using the name '' in request data ...
2023-05-20 22:05:27.093 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 22:05:27.097 +03:00 [DBG] Connection id "0HMQPCKGTA0CM", Request id "0HMQPCKGTA0CM:00000005": started reading request body.
2023-05-20 22:05:27.100 +03:00 [DBG] Connection id "0HMQPCKGTA0CM", Request id "0HMQPCKGTA0CM:00000005": done reading request body.
2023-05-20 22:05:27.107 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.RegisterDto'
2023-05-20 22:05:27.109 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:05:27.111 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:05:27.112 +03:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:05:27.119 +03:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:05:38.116 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:05:38.135 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-05-20 22:05:38.218 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.DisplayName (string) Required, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.LockoutEnabled (bool) Required, 6], [Property: AppUser.LockoutEnd (DateTimeOffset?), 7], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: AppUser.PasswordHash (string), 10], [Property: AppUser.PhoneNumber (string), 11], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 12], [Property: AppUser.SecurityStamp (string), 13], [Property: AppUser.TwoFactorEnabled (bool) Required, 14], [Property: AppUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DisplayName, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:05:38.239 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.241 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:05:38.245 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.247 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.252 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:05:38.265 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:05:38.273 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.275 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.278 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.356 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:05:38.364 +03:00 [DBG] SaveChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:05:38.369 +03:00 [DBG] DetectChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:05:38.388 +03:00 [DBG] DetectChanges completed for 'AppIdentityDbContext'.
2023-05-20 22:05:38.404 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.406 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.408 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-20 22:05:38.414 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-05-20 22:05:38.457 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.460 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:05:38.463 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "DisplayName", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-05-20 22:05:38.479 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "DisplayName", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-05-20 22:05:38.489 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.495 +03:00 [DBG] Committing transaction.
2023-05-20 22:05:38.505 +03:00 [DBG] Committed transaction.
2023-05-20 22:05:38.511 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.514 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.518 +03:00 [DBG] Disposing transaction.
2023-05-20 22:05:38.530 +03:00 [DBG] An entity of type 'AppUser' tracked by 'AppIdentityDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:05:38.537 +03:00 [DBG] SaveChanges completed for 'AppIdentityDbContext' with 1 entities written to the database.
2023-05-20 22:05:38.544 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-05-20 22:05:38.548 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:05:38.551 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.553 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:05:38.554 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.555 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.556 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-05-20 22:05:38.562 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-05-20 22:05:38.565 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.566 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.567 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.577 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.579 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:05:38.585 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.587 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.589 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-05-20 22:05:38.592 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-05-20 22:05:38.596 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.598 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.599 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.611 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:05:38.615 +03:00 [DBG] SaveChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:05:38.616 +03:00 [DBG] DetectChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:05:38.620 +03:00 [DBG] DetectChanges completed for 'AppIdentityDbContext'.
2023-05-20 22:05:38.622 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.623 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.624 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-20 22:05:38.625 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-05-20 22:05:38.626 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.627 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:05:38.628 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-05-20 22:05:38.632 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-05-20 22:05:38.634 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.636 +03:00 [DBG] Committing transaction.
2023-05-20 22:05:38.638 +03:00 [DBG] Committed transaction.
2023-05-20 22:05:38.639 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.640 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.641 +03:00 [DBG] Disposing transaction.
2023-05-20 22:05:38.642 +03:00 [DBG] An entity of type 'IdentityRole' tracked by 'AppIdentityDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:05:38.644 +03:00 [DBG] SaveChanges completed for 'AppIdentityDbContext' with 1 entities written to the database.
2023-05-20 22:05:38.654 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-05-20 22:05:38.661 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:05:38.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.667 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:05:38.670 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.673 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.676 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 22:05:38.682 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 22:05:38.689 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.691 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.694 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.710 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2023-05-20 22:05:38.720 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:05:38.725 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.726 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-20 22:05:38.727 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.728 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.729 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE (a."UserId" = @__p_0) AND (a."RoleId" = @__p_1)
LIMIT 1
2023-05-20 22:05:38.733 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE (a."UserId" = @__p_0) AND (a."RoleId" = @__p_1)
LIMIT 1
2023-05-20 22:05:38.735 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.736 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.737 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.741 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.743 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:05:38.744 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.745 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.746 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 22:05:38.749 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 22:05:38.751 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.752 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.753 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.763 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'IdentityUserRole<string>' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:05:38.767 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.770 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 22:05:38.771 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.771 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.772 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:05:38.776 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:05:38.778 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.779 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.780 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.784 +03:00 [DBG] An entity of type 'AppUser' tracked by 'AppIdentityDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:05:38.786 +03:00 [DBG] SaveChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:05:38.787 +03:00 [DBG] DetectChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:05:38.788 +03:00 [DBG] DetectChanges completed for 'AppIdentityDbContext'.
2023-05-20 22:05:38.789 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.790 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.791 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-20 22:05:38.793 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-05-20 22:05:38.802 +03:00 [DBG] Executing 2 update commands as a batch.
2023-05-20 22:05:38.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:05:38.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:05:38.809 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p17='?', @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "DisplayName" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "LockoutEnabled" = @p7, "LockoutEnd" = @p8, "NormalizedEmail" = @p9, "NormalizedUserName" = @p10, "PasswordHash" = @p11, "PhoneNumber" = @p12, "PhoneNumberConfirmed" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-05-20 22:05:38.814 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p17='?', @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "DisplayName" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "LockoutEnabled" = @p7, "LockoutEnd" = @p8, "NormalizedEmail" = @p9, "NormalizedUserName" = @p10, "PasswordHash" = @p11, "PhoneNumber" = @p12, "PhoneNumberConfirmed" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-05-20 22:05:38.816 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:05:38.817 +03:00 [DBG] Committing transaction.
2023-05-20 22:05:38.818 +03:00 [DBG] Committed transaction.
2023-05-20 22:05:38.819 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:05:38.820 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:05:38.821 +03:00 [DBG] Disposing transaction.
2023-05-20 22:05:38.822 +03:00 [DBG] An entity of type 'IdentityUserRole<string>' tracked by 'AppIdentityDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:05:38.823 +03:00 [DBG] An entity of type 'AppUser' tracked by 'AppIdentityDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:05:38.824 +03:00 [DBG] SaveChanges completed for 'AppIdentityDbContext' with 2 entities written to the database.
2023-05-20 22:05:39.219 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 22:05:39.250 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 22:05:39.256 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 22:05:39.259 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 22:05:39.260 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 22:05:39.263 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 22:05:39.267 +03:00 [INF] Executing ObjectResult, writing value of type 'Kidpaor.Dtos.UserDto'.
2023-05-20 22:05:39.287 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Register (Kidpaor) in 12331.4132ms
2023-05-20 22:05:39.293 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:05:39.308 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:05:39.314 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/register application/json 103 - 200 - application/json;+charset=utf-8 12549.5744ms
2023-05-20 22:06:22.106 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:06:22.109 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:06:22.111 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:06:22.112 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:06:22.114 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:06:22.115 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:06:22.184 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:06:22.189 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:06:22.196 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Organizer)
2023-05-20 22:06:22.199 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:06:22.200 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 94.1167ms
2023-05-20 22:06:57.052 +03:00 [INF] Starting web application
2023-05-20 22:06:58.583 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:06:58.587 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:06:59.292 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:06:59.297 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:06:59.645 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:06:59.724 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:06:59.743 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.158 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.176 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.192 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.216 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:07:00.234 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (13ms).
2023-05-20 22:07:00.244 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.364 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.382 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:07:00.477 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:07:00.486 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.493 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.500 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.668 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.670 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.673 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.674 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:07:00.676 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:07:00.678 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.680 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.682 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:07:00.686 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:07:00.690 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.692 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.720 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:07:00.722 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:07:00.723 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.725 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.727 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:07:00.741 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:07:00.755 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:07:00.758 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.760 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:07:00.774 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:07:00.850 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:07:00.855 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:07:00.856 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:00.949 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.952 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:00.955 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:00.961 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:07:00.964 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 22:07:00.970 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:01.041 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.042 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:07:01.055 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:07:01.059 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.061 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:01.062 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:01.135 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.137 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.139 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:01.141 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:07:01.142 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:07:01.143 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:01.144 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.146 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:07:01.149 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:07:01.152 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.153 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:01.157 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:07:01.158 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:07:01.159 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:01.162 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.163 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:07:01.168 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:07:01.172 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:07:01.173 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.174 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:07:01.176 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:07:01.225 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:07:01.416 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:07:01.452 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:07:01.454 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:07:01.458 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:07:01.461 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.464 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:07:01.474 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:07:01.484 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:07:01.487 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:01.491 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:07:01.496 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:07:01.502 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:07:01.571 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:07:01.646 +03:00 [DBG] Hosting starting
2023-05-20 22:07:01.709 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:07:01.714 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:07:01.728 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:07:01.743 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:07:01.746 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:07:01.749 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:07:01.751 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:07:01.755 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:07:01.758 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:07:01.763 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:07:01.767 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:07:01.857 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:07:01.888 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:07:01.890 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:07:01.892 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:07:01.894 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:07:01.896 +03:00 [INF] Hosting environment: Development
2023-05-20 22:07:01.897 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:07:01.898 +03:00 [DBG] Hosting started
2023-05-20 22:07:02.002 +03:00 [DBG] Connection id "0HMQPCLIC15K5" accepted.
2023-05-20 22:07:02.005 +03:00 [DBG] Connection id "0HMQPCLIC15K5" started.
2023-05-20 22:07:02.034 +03:00 [DBG] Connection id "0HMQPCLIC15K6" accepted.
2023-05-20 22:07:02.035 +03:00 [DBG] Connection id "0HMQPCLIC15K6" started.
2023-05-20 22:07:02.062 +03:00 [DBG] Connection id "0HMQPCLIC15K5" received FIN.
2023-05-20 22:07:02.087 +03:00 [DBG] Connection 0HMQPCLIC15K6 established using the following protocol: "Tls12"
2023-05-20 22:07:02.087 +03:00 [DBG] Connection 0HMQPCLIC15K5 established using the following protocol: "Tls12"
2023-05-20 22:07:02.109 +03:00 [DBG] Connection id "0HMQPCLIC15K5" is closed. The last processed stream ID was 0.
2023-05-20 22:07:02.112 +03:00 [DBG] Connection id "0HMQPCLIC15K5" sending FIN because: "The client closed the connection."
2023-05-20 22:07:02.121 +03:00 [DBG] Connection id "0HMQPCLIC15K5" stopped.
2023-05-20 22:07:02.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:07:02.151 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:07:02.246 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 101.6815ms
2023-05-20 22:07:02.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:07:02.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.3274ms
2023-05-20 22:07:09.492 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:07:09.496 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:07:09.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:07:09.533 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:07:09.536 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:07:09.538 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:07:09.894 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:07:09.896 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:07:09.904 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-05-20 22:07:09.909 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:07:09.911 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 418.5721ms
2023-05-20 22:07:55.960 +03:00 [INF] Starting web application
2023-05-20 22:07:58.202 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:07:58.208 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:07:59.094 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:07:59.099 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:07:59.442 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:07:59.524 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:07:59.539 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:07:59.934 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:07:59.963 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.005 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:08:00.065 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:08:00.098 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (20ms).
2023-05-20 22:08:00.111 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:08:00.247 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.263 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:08:00.394 +03:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:08:00.404 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.411 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:08:00.418 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:08:00.529 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.531 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.533 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:08:00.536 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:08:00.545 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-05-20 22:08:00.549 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:08:00.552 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.555 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:08:00.566 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:08:00.572 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.574 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:08:00.619 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:08:00.621 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:08:00.623 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:08:00.626 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.633 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:08:00.653 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:08:00.673 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:08:00.677 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.679 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:08:00.702 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:08:00.856 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:08:00.859 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:08:00.862 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:00.966 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.967 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:00.970 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:00.972 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:08:00.973 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:08:00.977 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:01.058 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.061 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:08:01.078 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:08:01.082 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.083 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:01.086 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:01.154 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.156 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.157 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:01.159 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:08:01.160 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:08:01.162 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:01.164 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.166 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:08:01.169 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:08:01.173 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.176 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:01.179 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:08:01.181 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:08:01.184 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:01.187 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.189 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:08:01.197 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:08:01.201 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:08:01.203 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.205 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:08:01.207 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:08:01.275 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:08:01.538 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:08:01.636 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:08:01.641 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-20 22:08:01.649 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:08:01.653 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.657 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:08:01.669 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:08:01.681 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:08:01.684 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:08:01.687 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:08:01.692 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:08:01.696 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:08:01.775 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:08:01.856 +03:00 [DBG] Hosting starting
2023-05-20 22:08:01.936 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:08:01.944 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:08:01.965 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:08:01.984 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:08:01.990 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:08:01.993 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:08:01.997 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:08:02.002 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:08:02.008 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:08:02.014 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:08:02.016 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:08:02.127 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:08:02.174 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:08:02.177 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:08:02.179 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:08:02.181 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:08:02.182 +03:00 [INF] Hosting environment: Development
2023-05-20 22:08:02.183 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:08:02.184 +03:00 [DBG] Hosting started
2023-05-20 22:08:06.540 +03:00 [DBG] Connection id "0HMQPCM5JGC0D" accepted.
2023-05-20 22:08:06.545 +03:00 [DBG] Connection id "0HMQPCM5JGC0D" started.
2023-05-20 22:08:06.647 +03:00 [DBG] Connection 0HMQPCM5JGC0D established using the following protocol: "Tls12"
2023-05-20 22:08:06.699 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:08:06.701 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:08:06.799 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 101.9301ms
2023-05-20 22:08:06.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:08:07.092 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.1781ms
2023-05-20 22:08:14.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:08:14.020 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:08:14.052 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:08:14.055 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:08:14.058 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:08:14.059 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:08:14.373 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:08:14.376 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:08:14.386 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2023-05-20 22:08:14.390 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:08:14.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 378.9479ms
2023-05-20 22:12:10.888 +03:00 [INF] Starting web application
2023-05-20 22:12:13.131 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:12:13.137 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:12:14.277 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:12:14.283 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:12:14.822 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:12:14.932 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:12:14.952 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.415 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.434 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.449 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.478 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:12:15.500 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (14ms).
2023-05-20 22:12:15.509 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.612 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.627 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:12:15.734 +03:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:12:15.744 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.750 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.757 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.834 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.836 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.838 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.840 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:12:15.842 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:12:15.844 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.846 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.848 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:12:15.853 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:12:15.858 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.863 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.887 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:12:15.889 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:12:15.891 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.892 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.895 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:12:15.910 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:12:15.928 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:12:15.933 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:15.934 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:12:15.952 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:12:16.035 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:12:16.039 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.042 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.161 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.163 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.165 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.169 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:12:16.174 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-05-20 22:12:16.178 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.258 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.260 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:12:16.270 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:12:16.274 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.275 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.277 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.340 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.342 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.343 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.345 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:12:16.346 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:12:16.347 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.348 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.350 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:12:16.353 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:12:16.356 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.357 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.360 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:12:16.362 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:12:16.365 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.366 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.368 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:12:16.373 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:12:16.377 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:12:16.378 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.380 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:12:16.382 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:12:16.441 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:12:16.697 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:12:16.737 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:12:16.740 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:12:16.744 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:12:16.746 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.749 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:12:16.759 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:12:16.771 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:12:16.773 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:12:16.776 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:12:16.781 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:12:16.783 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:12:16.863 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:12:16.945 +03:00 [DBG] Hosting starting
2023-05-20 22:12:16.999 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:12:17.005 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:12:17.018 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:12:17.037 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:12:17.043 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:12:17.046 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:12:17.051 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:12:17.057 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:12:17.062 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:12:17.066 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:12:17.068 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:12:17.161 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:12:17.213 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:12:17.216 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:12:17.218 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:12:17.220 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:12:17.222 +03:00 [INF] Hosting environment: Development
2023-05-20 22:12:17.225 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:12:17.226 +03:00 [DBG] Hosting started
2023-05-20 22:12:19.533 +03:00 [DBG] Connection id "0HMQPCOH08P0T" accepted.
2023-05-20 22:12:19.539 +03:00 [DBG] Connection id "0HMQPCOH08P0T" started.
2023-05-20 22:12:19.631 +03:00 [DBG] Connection 0HMQPCOH08P0T established using the following protocol: "Tls12"
2023-05-20 22:12:19.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:12:19.680 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:12:19.775 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 100.7343ms
2023-05-20 22:12:20.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:12:20.316 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 223.5926ms
2023-05-20 22:12:28.624 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:12:28.628 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:12:28.669 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:12:28.672 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:12:28.675 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:12:28.677 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:12:28.990 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:12:28.993 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:12:29.001 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2023-05-20 22:12:29.005 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:12:29.007 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 383.2851ms
2023-05-20 22:26:43.443 +03:00 [INF] Starting web application
2023-05-20 22:26:46.037 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:26:46.043 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:26:46.926 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:26:46.933 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:26:47.277 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:26:47.334 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:26:47.354 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:26:47.660 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:47.675 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:47.686 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:26:47.707 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:26:47.720 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2023-05-20 22:26:47.727 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:26:47.805 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:47.818 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:26:47.896 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:26:47.903 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:47.908 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:26:47.914 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:26:47.991 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:47.992 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:47.995 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:26:47.998 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:26:47.999 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:26:48.002 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:26:48.004 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.006 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:26:48.011 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:26:48.013 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.015 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:26:48.036 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:26:48.038 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:26:48.039 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:26:48.040 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.042 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:26:48.056 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:26:48.071 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:26:48.074 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.077 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:26:48.092 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:26:48.204 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:26:48.208 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.212 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.317 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.319 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.321 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.322 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:26:48.323 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:26:48.325 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.389 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.390 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:26:48.400 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:26:48.404 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.406 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.408 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.495 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.497 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.499 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.501 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:26:48.502 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:26:48.504 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.506 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.508 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:26:48.512 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:26:48.516 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.517 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.521 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:26:48.523 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:26:48.525 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.527 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.529 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:26:48.535 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:26:48.538 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:26:48.539 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.541 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:26:48.543 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:26:48.597 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:26:48.813 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:26:48.842 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:26:48.845 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 22:26:48.849 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:26:48.852 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.853 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:26:48.861 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:26:48.871 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:26:48.874 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:26:48.876 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:26:48.881 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:26:48.883 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:26:48.953 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:26:49.021 +03:00 [DBG] Hosting starting
2023-05-20 22:26:49.074 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:26:49.080 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:26:49.118 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:26:49.137 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:26:49.141 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:26:49.144 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:26:49.147 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:26:49.151 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:26:49.154 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:26:49.161 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:26:49.164 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:26:49.297 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:26:49.332 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:26:49.334 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:26:49.336 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:26:49.338 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:26:49.338 +03:00 [INF] Hosting environment: Development
2023-05-20 22:26:49.339 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:26:49.340 +03:00 [DBG] Hosting started
2023-05-20 22:26:53.511 +03:00 [DBG] Connection id "0HMQPD0LF4K00" accepted.
2023-05-20 22:26:53.514 +03:00 [DBG] Connection id "0HMQPD0LF4K00" started.
2023-05-20 22:26:53.587 +03:00 [DBG] Connection 0HMQPD0LF4K00 established using the following protocol: "Tls12"
2023-05-20 22:26:53.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:26:53.631 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:26:53.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 73.3271ms
2023-05-20 22:26:53.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:26:54.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 129.9530ms
2023-05-20 22:27:04.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:27:04.138 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:27:04.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:27:04.184 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:27:04.189 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:27:04.191 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:27:04.846 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:27:04.849 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:27:04.856 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2023-05-20 22:27:04.860 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:27:04.862 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 730.6397ms
2023-05-20 22:27:32.597 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/login application/json 58
2023-05-20 22:27:32.599 +03:00 [DBG] POST requests are not supported
2023-05-20 22:27:32.603 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/login'
2023-05-20 22:27:32.606 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)' with route pattern 'api/Account/login' is valid for the request path '/api/Account/login'
2023-05-20 22:27:32.608 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 22:27:32.609 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:27:32.610 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 22:27:32.612 +03:00 [INF] CORS policy execution successful.
2023-05-20 22:27:32.614 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:27:32.615 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:27:32.617 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 22:27:32.636 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Login(Kidpaor.Dtos.LoginDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 22:27:32.640 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:27:32.642 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:27:32.644 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:27:32.645 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:27:32.646 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:27:32.648 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:27:32.779 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:27:32.786 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 22:27:32.792 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' using the name '' in request data ...
2023-05-20 22:27:32.796 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 22:27:32.800 +03:00 [DBG] Connection id "0HMQPD0LF4K00", Request id "0HMQPD0LF4K00:00000007": started reading request body.
2023-05-20 22:27:32.802 +03:00 [DBG] Connection id "0HMQPD0LF4K00", Request id "0HMQPD0LF4K00:00000007": done reading request body.
2023-05-20 22:27:32.809 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.LoginDto'
2023-05-20 22:27:32.812 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 22:27:32.813 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 22:27:32.814 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto' ...
2023-05-20 22:27:32.822 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Kidpaor.Dtos.LoginDto'.
2023-05-20 22:27:32.856 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:27:32.870 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-05-20 22:27:32.936 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.DisplayName (string) Required, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.LockoutEnabled (bool) Required, 6], [Property: AppUser.LockoutEnd (DateTimeOffset?), 7], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: AppUser.PasswordHash (string), 10], [Property: AppUser.PhoneNumber (string), 11], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 12], [Property: AppUser.SecurityStamp (string), 13], [Property: AppUser.TwoFactorEnabled (bool) Required, 14], [Property: AppUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DisplayName, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:27:32.958 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:27:32.961 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:27:32.966 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:27:32.967 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:27:32.973 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 22:27:32.986 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-20 22:27:33.037 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:27:33.076 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:27:33.079 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:27:33.081 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:27:33.131 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-05-20 22:27:33.187 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)'
2023-05-20 22:27:33.191 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:27:33.191 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-20 22:27:33.193 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:27:33.194 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:27:33.195 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-05-20 22:27:33.203 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-05-20 22:27:33.207 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:27:33.208 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:27:33.209 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:27:33.231 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 22:27:33.237 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 22:27:33.240 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 22:27:33.241 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 22:27:33.243 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 22:27:33.244 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 22:27:33.245 +03:00 [INF] Executing ObjectResult, writing value of type 'Kidpaor.Dtos.UserDto'.
2023-05-20 22:27:33.255 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Login (Kidpaor) in 601.863ms
2023-05-20 22:27:33.259 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 22:27:33.265 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:27:33.271 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/login application/json 58 - 200 - application/json;+charset=utf-8 673.4642ms
2023-05-20 22:27:51.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:27:51.769 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:27:51.771 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:27:51.772 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:27:51.775 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:27:51.775 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:27:51.777 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:27:51.778 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:27:51.779 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2023-05-20 22:27:51.780 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:27:51.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 14.5770ms
2023-05-20 22:27:54.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:27:54.405 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:27:54.407 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:27:54.408 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:27:54.410 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:27:54.413 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:27:54.414 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:27:54.414 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:27:54.415 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2023-05-20 22:27:54.417 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:27:54.419 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 14.8724ms
2023-05-20 22:27:55.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:27:55.300 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:27:55.301 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:27:55.302 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:27:55.303 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:27:55.304 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:27:55.305 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:27:55.306 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:27:55.307 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2023-05-20 22:27:55.308 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:27:55.309 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 11.0338ms
2023-05-20 22:27:56.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:27:56.192 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 3.3173ms
2023-05-20 22:27:56.475 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:27:56.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 44.9280ms
2023-05-20 22:28:04.327 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:28:04.329 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:28:04.330 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:28:04.331 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:28:04.332 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:28:04.333 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:28:04.334 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:28:04.335 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:28:04.336 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2023-05-20 22:28:04.337 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:28:04.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 10.8247ms
2023-05-20 22:29:24.078 +03:00 [INF] Starting web application
2023-05-20 22:29:26.282 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:29:26.289 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:29:27.330 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:29:27.334 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:29:27.770 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:29:27.839 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:29:27.855 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.198 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.211 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.221 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.242 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:29:28.256 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2023-05-20 22:29:28.262 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.356 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.368 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:29:28.442 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:29:28.449 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.457 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.464 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.546 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.549 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.550 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.552 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:29:28.554 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:29:28.556 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.559 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.561 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:29:28.566 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:29:28.570 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.572 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.602 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:29:28.605 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:29:28.607 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.609 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.613 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:29:28.627 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:29:28.641 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:29:28.643 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.645 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:29:28.665 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:29:28.739 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:29:28.742 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:29:28.744 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:28.843 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.845 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.847 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:28.848 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:29:28.850 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:29:28.853 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:28.925 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.927 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:29:28.936 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:29:28.939 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:28.941 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:28.942 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:29.150 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:29.151 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:29.153 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:29.155 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:29:29.157 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:29:29.159 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:29.162 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:29.164 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:29:29.168 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:29:29.172 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:29.174 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:29.177 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:29:29.178 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:29:29.180 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:29.181 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:29.183 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:29:29.187 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:29:29.190 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:29:29.192 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:29.194 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:29:29.196 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:29:29.242 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:29:29.438 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:29:29.473 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:29:29.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 22:29:29.479 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:29:29.481 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:29.484 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:29:29.490 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:29:29.498 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:29:29.501 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:29:29.503 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:29:29.506 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:29:29.509 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:29:29.570 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:29:29.631 +03:00 [DBG] Hosting starting
2023-05-20 22:29:29.692 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:29:29.703 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:29:29.722 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:29:29.741 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:29:29.747 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:29:29.750 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:29:29.754 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:29:29.758 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:29:29.765 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:29:29.771 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:29:29.774 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:29:29.873 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:29:29.919 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:29:29.928 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:29:29.930 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:29:29.932 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:29:29.934 +03:00 [INF] Hosting environment: Development
2023-05-20 22:29:29.935 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:29:29.939 +03:00 [DBG] Hosting started
2023-05-20 22:29:43.293 +03:00 [DBG] Connection id "0HMQPD282AJ5C" accepted.
2023-05-20 22:29:43.295 +03:00 [DBG] Connection id "0HMQPD282AJ5C" started.
2023-05-20 22:29:43.506 +03:00 [DBG] Connection 0HMQPD282AJ5C established using the following protocol: "Tls12"
2023-05-20 22:29:43.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:29:43.573 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:29:43.601 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:29:43.634 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:29:43.637 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:29:43.639 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:29:43.640 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:29:44.297 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 22:29:44.310 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-05-20 22:29:44.318 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-20 22:29:44.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 401 0 - 757.7694ms
2023-05-20 22:30:00.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:30:00.744 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:30:00.747 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:30:00.749 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:30:00.752 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:30:00.753 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:30:01.224 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:30:01.228 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:30:01.234 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-05-20 22:30:01.238 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:30:01.240 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 498.3032ms
2023-05-20 22:33:47.687 +03:00 [INF] Starting web application
2023-05-20 22:33:50.405 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:33:50.411 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:33:51.569 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:33:51.574 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:33:51.962 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:33:52.032 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:33:52.047 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.373 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.387 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.399 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.421 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:33:52.432 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-05-20 22:33:52.439 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.534 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.545 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:33:52.617 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:33:52.625 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.631 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.636 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.710 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.713 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.715 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.719 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:33:52.722 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 22:33:52.724 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.727 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.729 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:33:52.736 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:33:52.739 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.742 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.765 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:33:52.767 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:33:52.770 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.773 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.776 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:33:52.789 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:33:52.803 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:33:52.805 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:52.807 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:33:52.823 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:33:52.900 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:33:52.903 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:33:52.905 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.000 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.002 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.004 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.006 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:33:53.007 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:33:53.009 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.074 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.077 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:33:53.086 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:33:53.089 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.091 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.092 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.158 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.160 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.162 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.163 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:33:53.164 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:33:53.166 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.169 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.170 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:33:53.173 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:33:53.176 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.178 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.182 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:33:53.184 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:33:53.187 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.189 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.190 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:33:53.194 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:33:53.198 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:33:53.199 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.202 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:33:53.206 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:33:53.281 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:33:53.524 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:33:53.562 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:33:53.564 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:33:53.567 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:33:53.569 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.572 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:33:53.579 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:33:53.588 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:33:53.592 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:33:53.595 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:33:53.599 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:33:53.603 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:33:53.662 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:33:53.718 +03:00 [DBG] Hosting starting
2023-05-20 22:33:53.784 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:33:53.790 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:33:53.822 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:33:53.839 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:33:53.844 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:33:53.847 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:33:53.850 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:33:53.854 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:33:53.858 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:33:53.864 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:33:53.870 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:33:53.983 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:33:54.023 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:33:54.026 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:33:54.029 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:33:54.031 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:33:54.032 +03:00 [INF] Hosting environment: Development
2023-05-20 22:33:54.035 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:33:54.036 +03:00 [DBG] Hosting started
2023-05-20 22:34:19.904 +03:00 [INF] Starting web application
2023-05-20 22:34:22.324 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:34:22.329 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:34:23.252 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:34:23.258 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:34:23.585 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:34:23.656 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:34:23.673 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:34:23.976 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:23.989 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:23.999 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:34:24.017 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:34:24.028 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2023-05-20 22:34:24.034 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:34:24.115 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.128 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:34:24.203 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:34:24.210 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.215 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:34:24.220 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:34:24.281 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.284 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.287 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:34:24.289 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:34:24.290 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:34:24.292 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:34:24.294 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.296 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:34:24.301 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:34:24.304 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.308 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:34:24.330 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:34:24.332 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:34:24.334 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:34:24.335 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.338 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:34:24.349 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:34:24.362 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:34:24.364 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.367 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:34:24.383 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:34:24.463 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:34:24.468 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.470 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.572 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.574 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.575 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.577 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:34:24.578 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:34:24.580 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.648 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.652 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:34:24.662 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:34:24.665 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.666 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.669 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.741 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.743 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.745 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.747 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:34:24.748 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:34:24.750 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.752 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.754 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:34:24.757 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:34:24.759 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.761 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.765 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:34:24.766 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:34:24.768 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.771 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.773 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:34:24.780 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:34:24.783 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:34:24.785 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:24.786 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:34:24.789 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:34:24.856 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:34:25.103 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:34:25.138 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:34:25.140 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:34:25.143 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:34:25.147 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:25.150 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:34:25.159 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:34:25.170 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:34:25.173 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:34:25.176 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:34:25.183 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:34:25.187 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:34:25.269 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:34:25.353 +03:00 [DBG] Hosting starting
2023-05-20 22:34:25.403 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:34:25.409 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:34:25.422 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:34:25.436 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:34:25.441 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:34:25.444 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:34:25.446 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:34:25.450 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:34:25.456 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:34:25.463 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:34:25.466 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:34:25.560 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:34:25.590 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:34:25.592 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:34:25.594 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:34:25.595 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:34:25.596 +03:00 [INF] Hosting environment: Development
2023-05-20 22:34:25.597 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:34:25.597 +03:00 [DBG] Hosting started
2023-05-20 22:34:30.364 +03:00 [DBG] Connection id "0HMQPD4TK24O9" accepted.
2023-05-20 22:34:30.369 +03:00 [DBG] Connection id "0HMQPD4TK24O9" started.
2023-05-20 22:34:30.438 +03:00 [DBG] Connection 0HMQPD4TK24O9 established using the following protocol: "Tls12"
2023-05-20 22:34:30.486 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:34:30.489 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:34:30.586 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 102.2432ms
2023-05-20 22:34:30.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:34:30.969 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.4685ms
2023-05-20 22:34:36.259 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:34:36.263 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:34:36.308 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:34:36.313 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:34:36.315 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:34:36.317 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:35:13.905 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10103: RoleClaimType cannot be null or whitespace. (Parameter 'value')
   at Microsoft.IdentityModel.Tokens.TokenValidationParameters.set_RoleClaimType(String value)
   at Kidpaor.Extensions.IdentityServiceExtensions.<>c__DisplayClass0_0.<AddIdentityService>b__1(JwtBearerOptions opt) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Extensions\IdentityServiceExtensions.cs:line 31
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-05-20 22:35:13.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 400 - application/json 37665.7105ms
2023-05-20 22:35:39.071 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/login application/json 58
2023-05-20 22:35:39.073 +03:00 [DBG] POST requests are not supported
2023-05-20 22:35:39.076 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/login'
2023-05-20 22:35:39.077 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)' with route pattern 'api/Account/login' is valid for the request path '/api/Account/login'
2023-05-20 22:35:39.081 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Login (Kidpaor)'
2023-05-20 22:35:39.083 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:35:39.084 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 22:35:39.086 +03:00 [INF] CORS policy execution successful.
2023-05-20 22:35:39.088 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10103: RoleClaimType cannot be null or whitespace. (Parameter 'value')
   at Microsoft.IdentityModel.Tokens.TokenValidationParameters.set_RoleClaimType(String value)
   at Kidpaor.Extensions.IdentityServiceExtensions.<>c__DisplayClass0_0.<AddIdentityService>b__1(JwtBearerOptions opt) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Extensions\IdentityServiceExtensions.cs:line 31
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-05-20 22:35:39.100 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/login application/json 58 - 400 - application/json 28.9065ms
2023-05-20 22:35:39.101 +03:00 [DBG] Connection id "0HMQPD4TK24O9", Request id "0HMQPD4TK24O9:00000007": started reading request body.
2023-05-20 22:35:39.105 +03:00 [DBG] Connection id "0HMQPD4TK24O9", Request id "0HMQPD4TK24O9:00000007": done reading request body.
2023-05-20 22:36:34.542 +03:00 [INF] Starting web application
2023-05-20 22:36:36.841 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:36:36.849 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:36:37.766 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:36:37.772 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:36:38.149 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:36:38.231 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:36:38.246 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:36:38.607 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:38.622 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:38.634 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:36:38.658 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:36:38.674 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (13ms).
2023-05-20 22:36:38.682 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:36:38.768 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:38.781 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:36:38.866 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:36:38.872 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:38.877 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:36:38.882 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:36:38.964 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:38.966 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:38.969 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:36:38.971 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:36:38.973 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:36:38.976 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:36:38.978 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:38.980 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:36:38.985 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:36:38.988 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:38.989 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:36:39.013 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:36:39.014 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:36:39.016 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:36:39.017 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.021 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:36:39.034 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:36:39.050 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:36:39.053 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.055 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:36:39.074 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:36:39.159 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:36:39.163 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.166 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.274 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.277 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.279 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.281 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:36:39.283 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:36:39.285 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.362 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.364 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:36:39.372 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:36:39.374 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.376 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.377 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.440 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.442 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.444 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.446 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:36:39.448 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:36:39.451 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.454 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.457 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:36:39.462 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:36:39.466 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.467 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.472 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:36:39.474 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:36:39.476 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.479 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.481 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:36:39.486 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:36:39.490 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:36:39.491 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:39.494 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:36:39.530 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:36:39.666 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:36:39.942 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:36:39.988 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:36:39.992 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 22:36:40.001 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:36:40.005 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:40.010 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:36:40.020 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:36:40.030 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:36:40.033 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:36:40.036 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:36:40.041 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:36:40.044 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:36:40.122 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:36:40.187 +03:00 [DBG] Hosting starting
2023-05-20 22:36:40.248 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:36:40.256 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:36:40.279 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:36:40.298 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:36:40.303 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:36:40.309 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:36:40.316 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:36:40.322 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:36:40.331 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:36:40.339 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:36:40.342 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:36:40.446 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:36:40.493 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:36:40.496 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:36:40.499 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:36:40.501 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:36:40.504 +03:00 [INF] Hosting environment: Development
2023-05-20 22:36:40.508 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:36:40.510 +03:00 [DBG] Hosting started
2023-05-20 22:36:57.516 +03:00 [DBG] Connection id "0HMQPD69FCRAI" accepted.
2023-05-20 22:36:57.519 +03:00 [DBG] Connection id "0HMQPD69FCRAI" started.
2023-05-20 22:36:57.588 +03:00 [DBG] Connection 0HMQPD69FCRAI established using the following protocol: "Tls12"
2023-05-20 22:36:57.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:36:57.633 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:36:57.737 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 108.8167ms
2023-05-20 22:36:57.950 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:36:58.074 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.2530ms
2023-05-20 22:37:40.993 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 95
2023-05-20 22:37:41.003 +03:00 [DBG] POST requests are not supported
2023-05-20 22:37:41.057 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 22:37:41.060 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 22:37:41.063 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:37:41.065 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:37:41.067 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 22:37:41.068 +03:00 [INF] CORS policy execution successful.
2023-05-20 22:37:55.022 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10103: RoleClaimType cannot be null or whitespace. (Parameter 'value')
   at Microsoft.IdentityModel.Tokens.TokenValidationParameters.set_RoleClaimType(String value)
   at Kidpaor.Extensions.IdentityServiceExtensions.<>c__DisplayClass0_0.<AddIdentityService>b__1(JwtBearerOptions opt) in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Extensions\IdentityServiceExtensions.cs:line 31
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-05-20 22:37:55.046 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/register application/json 95 - 400 - application/json 14052.9100ms
2023-05-20 22:37:55.052 +03:00 [DBG] Connection id "0HMQPD69FCRAI", Request id "0HMQPD69FCRAI:00000005": started reading request body.
2023-05-20 22:37:55.054 +03:00 [DBG] Connection id "0HMQPD69FCRAI", Request id "0HMQPD69FCRAI:00000005": done reading request body.
2023-05-20 22:38:28.737 +03:00 [INF] Starting web application
2023-05-20 22:38:31.306 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:38:31.312 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:38:32.213 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:38:32.217 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:38:32.591 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:38:32.659 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:38:32.674 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.063 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.080 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.093 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.115 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:38:33.129 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-05-20 22:38:33.137 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.255 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.272 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:38:33.364 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:38:33.375 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.381 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.389 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.507 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.511 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.513 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.516 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:38:33.519 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-05-20 22:38:33.521 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.525 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.528 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:38:33.535 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:38:33.542 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.544 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.571 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:33.574 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:38:33.576 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.578 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.581 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:38:33.594 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:38:33.609 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:33.613 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.615 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:33.633 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:38:33.717 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:38:33.720 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:38:33.722 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:33.814 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.817 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.818 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:33.820 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:38:33.821 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:38:33.824 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:33.893 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.895 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:38:33.904 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:38:33.907 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.908 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:33.910 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:33.972 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.974 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.976 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:33.978 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:38:33.980 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:38:33.983 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:33.984 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.986 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:38:33.989 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:38:33.994 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:33.995 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:34.000 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:34.003 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 22:38:34.005 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:34.006 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:34.008 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:38:34.013 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:38:34.015 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:34.016 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:34.017 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:38:34.019 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:38:34.075 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:38:34.516 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:38:34.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:34.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:38:34.560 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:34.563 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:34.566 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:38:34.573 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:38:34.584 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:34.587 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:34.589 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:34.594 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:38:34.596 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:38:34.664 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:38:34.742 +03:00 [DBG] Hosting starting
2023-05-20 22:38:34.832 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:38:34.842 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:38:34.862 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:38:34.885 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:38:34.906 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:38:34.910 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:38:34.915 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:38:34.921 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:38:34.930 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:38:34.937 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:38:34.941 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:38:35.084 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:38:35.147 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:38:35.149 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:38:35.152 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:38:35.155 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:38:35.159 +03:00 [INF] Hosting environment: Development
2023-05-20 22:38:35.161 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:38:35.163 +03:00 [DBG] Hosting started
2023-05-20 22:38:38.236 +03:00 [DBG] Connection id "0HMQPD77FUGTI" accepted.
2023-05-20 22:38:38.240 +03:00 [DBG] Connection id "0HMQPD77FUGTI" started.
2023-05-20 22:38:38.332 +03:00 [DBG] Connection 0HMQPD77FUGTI established using the following protocol: "Tls12"
2023-05-20 22:38:38.375 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:38:38.378 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:38:38.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 73.6675ms
2023-05-20 22:38:38.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:38:38.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 131.1055ms
2023-05-20 22:38:56.530 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/Account/register application/json 95
2023-05-20 22:38:56.534 +03:00 [DBG] POST requests are not supported
2023-05-20 22:38:56.570 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/register'
2023-05-20 22:38:56.573 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)' with route pattern 'api/Account/register' is valid for the request path '/api/Account/register'
2023-05-20 22:38:56.575 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:38:56.577 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:38:56.579 +03:00 [DBG] The request has an origin header: 'https://localhost:7275'.
2023-05-20 22:38:56.581 +03:00 [INF] CORS policy execution successful.
2023-05-20 22:38:56.650 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-20 22:38:56.653 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:38:56.674 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Kidpaor.Dtos.UserDto]] Register(Kidpaor.Dtos.RegisterDto) on controller Kidpaor.Controllers.AccountController (Kidpaor).
2023-05-20 22:38:56.678 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:38:56.680 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:38:56.681 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:38:56.688 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:38:56.691 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:38:56.695 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:38:56.831 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.AccountController (Kidpaor)
2023-05-20 22:38:56.837 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:38:56.842 +03:00 [DBG] Attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' using the name '' in request data ...
2023-05-20 22:38:56.845 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-20 22:38:56.850 +03:00 [DBG] Connection id "0HMQPD77FUGTI", Request id "0HMQPD77FUGTI:00000005": started reading request body.
2023-05-20 22:38:56.853 +03:00 [DBG] Connection id "0HMQPD77FUGTI", Request id "0HMQPD77FUGTI:00000005": done reading request body.
2023-05-20 22:38:56.862 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Kidpaor.Dtos.RegisterDto'
2023-05-20 22:38:56.864 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:38:56.866 +03:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:38:56.867 +03:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto' ...
2023-05-20 22:38:56.877 +03:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'Kidpaor.Dtos.RegisterDto'.
2023-05-20 22:38:56.932 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:38:56.956 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-05-20 22:38:57.036 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.DisplayName (string) Required, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.LockoutEnabled (bool) Required, 6], [Property: AppUser.LockoutEnd (DateTimeOffset?), 7], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: AppUser.PasswordHash (string), 10], [Property: AppUser.PhoneNumber (string), 11], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 12], [Property: AppUser.SecurityStamp (string), 13], [Property: AppUser.TwoFactorEnabled (bool) Required, 14], [Property: AppUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DisplayName, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:38:57.058 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:57.060 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:38:57.064 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.066 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.072 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:38:57.089 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:38:57.095 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:57.096 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.098 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.178 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:38:57.183 +03:00 [DBG] SaveChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:38:57.189 +03:00 [DBG] DetectChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:38:57.210 +03:00 [DBG] DetectChanges completed for 'AppIdentityDbContext'.
2023-05-20 22:38:57.235 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.240 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.242 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-20 22:38:57.249 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-05-20 22:38:57.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:57.302 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 22:38:57.305 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "DisplayName", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-05-20 22:38:57.314 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "DisplayName", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-05-20 22:38:57.327 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:57.335 +03:00 [DBG] Committing transaction.
2023-05-20 22:38:57.352 +03:00 [DBG] Committed transaction.
2023-05-20 22:38:57.358 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.361 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.365 +03:00 [DBG] Disposing transaction.
2023-05-20 22:38:57.379 +03:00 [DBG] An entity of type 'AppUser' tracked by 'AppIdentityDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:38:57.388 +03:00 [DBG] SaveChanges completed for 'AppIdentityDbContext' with 1 entities written to the database.
2023-05-20 22:38:57.396 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-05-20 22:38:57.406 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:38:57.410 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:57.412 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:38:57.412 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.413 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.414 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-05-20 22:38:57.420 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-05-20 22:38:57.429 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:38:57.436 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:57.438 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.439 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.446 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-05-20 22:38:57.450 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:38:57.454 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:57.458 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 22:38:57.460 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.462 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.464 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 22:38:57.469 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 22:38:57.479 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:57.481 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.489 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.511 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2023-05-20 22:38:57.530 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        Infrastructure.Identity.AppIdentityDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-20 22:38:57.539 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:57.542 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:38:57.544 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.548 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.552 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE (a."UserId" = @__p_0) AND (a."RoleId" = @__p_1)
LIMIT 1
2023-05-20 22:38:57.559 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE (a."UserId" = @__p_0) AND (a."RoleId" = @__p_1)
LIMIT 1
2023-05-20 22:38:57.563 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:57.565 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.566 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.575 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:57.577 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:38:57.578 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.580 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.582 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 22:38:57.588 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-05-20 22:38:57.592 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:57.592 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.593 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.605 +03:00 [DBG] Context 'AppIdentityDbContext' started tracking 'IdentityUserRole<string>' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:38:57.610 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:57.611 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-20 22:38:57.612 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.613 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.614 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:38:57.617 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-05-20 22:38:57.621 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:57.621 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.622 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.628 +03:00 [DBG] An entity of type 'AppUser' tracked by 'AppIdentityDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:38:57.630 +03:00 [DBG] SaveChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:38:57.631 +03:00 [DBG] DetectChanges starting for 'AppIdentityDbContext'.
2023-05-20 22:38:57.636 +03:00 [DBG] DetectChanges completed for 'AppIdentityDbContext'.
2023-05-20 22:38:57.637 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.639 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.640 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-20 22:38:57.642 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-05-20 22:38:57.651 +03:00 [DBG] Executing 2 update commands as a batch.
2023-05-20 22:38:57.654 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:38:57.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-20 22:38:57.656 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p17='?', @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "DisplayName" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "LockoutEnabled" = @p7, "LockoutEnd" = @p8, "NormalizedEmail" = @p9, "NormalizedUserName" = @p10, "PasswordHash" = @p11, "PhoneNumber" = @p12, "PhoneNumberConfirmed" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-05-20 22:38:57.660 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p17='?', @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "DisplayName" = @p4, "Email" = @p5, "EmailConfirmed" = @p6, "LockoutEnabled" = @p7, "LockoutEnd" = @p8, "NormalizedEmail" = @p9, "NormalizedUserName" = @p10, "PasswordHash" = @p11, "PhoneNumber" = @p12, "PhoneNumberConfirmed" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-05-20 22:38:57.663 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:38:57.664 +03:00 [DBG] Committing transaction.
2023-05-20 22:38:57.665 +03:00 [DBG] Committed transaction.
2023-05-20 22:38:57.666 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:38:57.668 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:38:57.669 +03:00 [DBG] Disposing transaction.
2023-05-20 22:38:57.672 +03:00 [DBG] An entity of type 'IdentityUserRole<string>' tracked by 'AppIdentityDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:38:57.674 +03:00 [DBG] An entity of type 'AppUser' tracked by 'AppIdentityDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-20 22:38:57.676 +03:00 [DBG] SaveChanges completed for 'AppIdentityDbContext' with 2 entities written to the database.
2023-05-20 22:38:57.824 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 22:38:57.830 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 22:38:57.831 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 22:38:57.833 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 22:38:57.835 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 22:38:57.836 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 22:38:57.837 +03:00 [INF] Executing ObjectResult, writing value of type 'Kidpaor.Dtos.UserDto'.
2023-05-20 22:38:57.846 +03:00 [INF] Executed action Kidpaor.Controllers.AccountController.Register (Kidpaor) in 1148.2636ms
2023-05-20 22:38:57.850 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.AccountController.Register (Kidpaor)'
2023-05-20 22:38:57.856 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:38:57.859 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/Account/register application/json 95 - 200 - application/json;+charset=utf-8 1329.0274ms
2023-05-20 22:39:29.015 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:39:29.021 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:39:29.024 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:39:29.025 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:39:29.026 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:39:29.027 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:39:29.083 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:39:29.087 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:39:29.094 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-05-20 22:39:29.098 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-20 22:39:29.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 403 0 - 84.1790ms
2023-05-20 22:43:34.135 +03:00 [INF] Starting web application
2023-05-20 22:43:36.175 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:43:36.183 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:43:37.109 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:43:37.115 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:43:37.521 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:43:37.596 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:43:37.612 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.051 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.077 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.092 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.115 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:43:38.131 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (11ms).
2023-05-20 22:43:38.139 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.239 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.254 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:43:38.342 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:43:38.350 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.357 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.362 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.430 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.432 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.434 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.436 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:43:38.437 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:43:38.441 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.443 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.444 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:43:38.449 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:43:38.451 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.454 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.497 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:43:38.500 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 22:43:38.502 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.504 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.511 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:43:38.533 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:43:38.554 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:43:38.559 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.562 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:43:38.585 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:43:38.682 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:43:38.686 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.687 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.786 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.788 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.790 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.792 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:43:38.794 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:43:38.796 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.860 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.862 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:43:38.871 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:43:38.875 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.877 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.879 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.942 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.944 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.947 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.949 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:43:38.950 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:43:38.952 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.954 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.956 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:43:38.959 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:43:38.963 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.964 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.968 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:43:38.970 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:43:38.971 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.973 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.975 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:43:38.980 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:43:38.983 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:43:38.984 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:38.985 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:43:38.989 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:43:39.044 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:43:39.257 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:43:39.292 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:43:39.294 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:43:39.296 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:43:39.298 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:39.300 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:43:39.309 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:43:39.317 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:43:39.320 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:43:39.323 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:43:39.326 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:43:39.328 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:43:39.388 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:43:39.443 +03:00 [DBG] Hosting starting
2023-05-20 22:43:39.498 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:43:39.504 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:43:39.517 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:43:39.532 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:43:39.536 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:43:39.541 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:43:39.546 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:43:39.551 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:43:39.556 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:43:39.563 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:43:39.565 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:43:39.655 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:43:39.690 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:43:39.693 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:43:39.694 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:43:39.696 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:43:39.697 +03:00 [INF] Hosting environment: Development
2023-05-20 22:43:39.699 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:43:39.701 +03:00 [DBG] Hosting started
2023-05-20 22:43:39.730 +03:00 [DBG] Connection id "0HMQPDA1B6L5G" accepted.
2023-05-20 22:43:39.733 +03:00 [DBG] Connection id "0HMQPDA1B6L5G" started.
2023-05-20 22:43:39.767 +03:00 [DBG] Connection id "0HMQPDA1B6L5H" accepted.
2023-05-20 22:43:39.770 +03:00 [DBG] Connection id "0HMQPDA1B6L5H" started.
2023-05-20 22:43:39.813 +03:00 [DBG] Connection id "0HMQPDA1B6L5G" received FIN.
2023-05-20 22:43:39.845 +03:00 [DBG] Connection 0HMQPDA1B6L5H established using the following protocol: "Tls12"
2023-05-20 22:43:39.845 +03:00 [DBG] Connection 0HMQPDA1B6L5G established using the following protocol: "Tls12"
2023-05-20 22:43:39.859 +03:00 [DBG] Connection id "0HMQPDA1B6L5G" is closed. The last processed stream ID was 0.
2023-05-20 22:43:39.861 +03:00 [DBG] Connection id "0HMQPDA1B6L5G" sending FIN because: "The client closed the connection."
2023-05-20 22:43:39.874 +03:00 [DBG] Connection id "0HMQPDA1B6L5G" stopped.
2023-05-20 22:43:39.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:43:39.917 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:43:39.962 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:43:40.014 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:43:40.018 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:43:40.024 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:43:40.026 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:43:40.420 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:43:40.424 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:43:40.434 +03:00 [DBG] Authorization was successful.
2023-05-20 22:43:40.438 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:43:40.454 +03:00 [INF] Route matched with {action = "GetParents", controller = "Parents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.Entities.Parents]]] GetParents() on controller Kidpaor.Controllers.ParentsController (Kidpaor).
2023-05-20 22:43:40.460 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:43:40.463 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:43:40.467 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:43:40.471 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:43:40.473 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:43:40.477 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 22:43:40.480 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 22:43:40.717 +03:00 [INF] Executed action Kidpaor.Controllers.ParentsController.GetParents (Kidpaor) in 234.845ms
2023-05-20 22:43:40.721 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:43:40.726 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Kidpaor.Controllers.ParentsController.GetParents() in D:\Projects\kidpaor\KidpaorBE\Kidpaor\Controllers\ParentsController.cs:line 22
   at lambda_method23(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-05-20 22:43:40.884 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 500 - application/json 975.4777ms
2023-05-20 22:47:23.406 +03:00 [INF] Starting web application
2023-05-20 22:47:26.633 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:47:26.638 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:47:27.421 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:47:27.427 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:47:27.726 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:47:27.787 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:47:27.803 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.175 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.189 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.205 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.226 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:47:28.239 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2023-05-20 22:47:28.247 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.319 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.331 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:47:28.400 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:47:28.408 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.413 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.419 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.607 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.611 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.613 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.614 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:47:28.615 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:47:28.618 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.620 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.621 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:47:28.624 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:47:28.628 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.629 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.647 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:47:28.648 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:47:28.649 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.650 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.652 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:47:28.662 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:47:28.673 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:47:28.677 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.679 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:47:28.694 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:47:28.766 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:47:28.770 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:47:28.772 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:28.860 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.862 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:28.863 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:28.865 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:47:28.866 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-05-20 22:47:28.867 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:29.026 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.029 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:47:29.036 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:47:29.038 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.039 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:29.041 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:29.096 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.099 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.101 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:29.102 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:47:29.103 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:47:29.105 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:29.106 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.108 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:47:29.110 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:47:29.112 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.113 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:29.116 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:47:29.117 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-20 22:47:29.118 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:29.119 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.121 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:47:29.126 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:47:29.128 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:47:29.129 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.130 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:47:29.131 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:47:29.173 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:47:29.344 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:47:29.370 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:47:29.372 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 22:47:29.376 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:47:29.378 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.380 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:47:29.386 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:47:29.394 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:47:29.397 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:47:29.400 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:47:29.404 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:47:29.407 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:47:29.462 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:47:29.523 +03:00 [DBG] Hosting starting
2023-05-20 22:47:29.572 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:47:29.579 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:47:29.606 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:47:29.620 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:47:29.625 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:47:29.629 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:47:29.631 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:47:29.634 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:47:29.638 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:47:29.642 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:47:29.644 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:47:29.760 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:47:29.803 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:47:29.805 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:47:29.807 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:47:29.810 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:47:29.811 +03:00 [INF] Hosting environment: Development
2023-05-20 22:47:29.812 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:47:29.813 +03:00 [DBG] Hosting started
2023-05-20 22:47:30.603 +03:00 [DBG] Connection id "0HMQPDC6503QQ" accepted.
2023-05-20 22:47:30.606 +03:00 [DBG] Connection id "0HMQPDC6503QQ" started.
2023-05-20 22:47:30.693 +03:00 [DBG] Connection 0HMQPDC6503QQ established using the following protocol: "Tls12"
2023-05-20 22:47:30.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:47:30.749 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:47:30.852 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 108.0333ms
2023-05-20 22:47:31.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:47:31.212 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.0202ms
2023-05-20 22:47:41.453 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:47:41.458 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:47:41.498 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:47:41.501 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:47:41.505 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:47:41.507 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:47:42.735 +03:00 [DBG] Successfully validated the token.
2023-05-20 22:47:42.738 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 22:47:42.747 +03:00 [DBG] Authorization was successful.
2023-05-20 22:47:42.750 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:47:42.762 +03:00 [INF] Route matched with {action = "GetParents", controller = "Parents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.Entities.Parents]]] GetParents() on controller Kidpaor.Controllers.ParentsController (Kidpaor).
2023-05-20 22:47:42.766 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:47:42.768 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:47:42.770 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:47:42.774 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:47:42.776 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:47:42.779 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 22:47:42.783 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 22:56:53.799 +03:00 [INF] Starting web application
2023-05-20 22:56:56.105 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 22:56:56.114 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 22:56:57.490 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 22:56:57.495 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 22:56:57.990 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:56:58.083 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 22:56:58.103 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:56:58.484 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:58.500 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:58.515 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:56:58.544 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:56:58.600 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (14ms).
2023-05-20 22:56:58.741 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:56:58.885 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:58.901 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:56:58.998 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:56:59.005 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.011 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:56:59.015 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:56:59.194 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.196 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.199 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:56:59.201 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:56:59.204 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 22:56:59.205 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:56:59.208 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.209 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:56:59.215 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:56:59.218 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.220 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:56:59.244 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:56:59.246 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:56:59.247 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:56:59.250 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.252 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:56:59.267 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:56:59.285 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:56:59.289 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.297 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:56:59.324 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:56:59.470 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:56:59.474 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 22:56:59.478 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:56:59.620 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.621 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.623 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:56:59.625 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:56:59.627 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 22:56:59.629 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:56:59.729 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.731 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:56:59.745 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:56:59.749 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.752 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:56:59.754 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:56:59.951 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.953 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.955 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:56:59.958 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 22:56:59.961 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-05-20 22:56:59.963 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:56:59.968 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.971 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:56:59.977 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 22:56:59.982 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:56:59.989 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:56:59.994 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:56:59.996 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:56:59.999 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:57:00.002 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:57:00.015 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:57:00.030 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 22:57:00.037 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:57:00.042 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:57:00.051 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:57:00.056 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 22:57:00.136 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 22:57:00.459 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 22:57:00.515 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:57:00.516 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:57:00.519 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 22:57:00.522 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:57:00.524 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:57:00.532 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 22:57:00.544 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:57:00.546 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 22:57:00.548 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 22:57:00.552 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 22:57:00.555 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:57:00.624 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 22:57:00.696 +03:00 [DBG] Hosting starting
2023-05-20 22:57:00.753 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 22:57:00.758 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 22:57:00.771 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 22:57:00.786 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 22:57:00.791 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:57:00.794 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 22:57:00.797 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 22:57:00.800 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 22:57:00.803 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 22:57:00.808 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 22:57:00.810 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 22:57:00.920 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 22:57:00.956 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 22:57:00.958 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 22:57:00.960 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 22:57:00.962 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 22:57:00.963 +03:00 [INF] Hosting environment: Development
2023-05-20 22:57:00.964 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 22:57:00.965 +03:00 [DBG] Hosting started
2023-05-20 22:57:06.982 +03:00 [DBG] Connection id "0HMQPDHHTP6KV" accepted.
2023-05-20 22:57:06.984 +03:00 [DBG] Connection id "0HMQPDHHTP6KV" started.
2023-05-20 22:57:07.057 +03:00 [DBG] Connection 0HMQPDHHTP6KV established using the following protocol: "Tls12"
2023-05-20 22:57:07.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:57:07.105 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 22:57:07.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 77.8659ms
2023-05-20 22:57:07.410 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:57:07.546 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.2524ms
2023-05-20 22:57:14.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:57:14.124 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:57:14.157 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:57:14.161 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:57:14.164 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:57:14.166 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:57:14.178 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-20 22:57:14.189 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 22:57:14.194 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-05-20 22:57:14.199 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 302 0 - 79.0882ms
2023-05-20 22:57:14.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/Account/Login?ReturnUrl=%2Fapi%2FParents - -
2023-05-20 22:57:14.212 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:57:14.216 +03:00 [DBG] No candidates found for the request path '/Account/Login'
2023-05-20 22:57:14.218 +03:00 [DBG] Request did not match any endpoints
2023-05-20 22:57:14.220 +03:00 [DBG] The request path /Account/Login does not match a supported file type
2023-05-20 22:57:14.224 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-20 22:57:14.227 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/Account/Login?ReturnUrl=%2Fapi%2FParents - - - 404 0 - 16.6825ms
2023-05-20 22:58:25.810 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:58:25.821 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:58:25.822 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:58:25.823 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:58:25.826 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:58:25.827 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:58:25.829 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-20 22:58:25.831 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 22:58:25.833 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-05-20 22:58:25.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 302 0 - 25.9059ms
2023-05-20 22:58:25.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/Account/Login?ReturnUrl=%2Fapi%2FParents - -
2023-05-20 22:58:25.843 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:58:25.844 +03:00 [DBG] No candidates found for the request path '/Account/Login'
2023-05-20 22:58:25.845 +03:00 [DBG] Request did not match any endpoints
2023-05-20 22:58:25.846 +03:00 [DBG] The request path /Account/Login does not match a supported file type
2023-05-20 22:58:25.847 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-20 22:58:25.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/Account/Login?ReturnUrl=%2Fapi%2FParents - - - 404 0 - 6.6453ms
2023-05-20 22:58:28.510 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 22:58:28.513 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 3.0082ms
2023-05-20 22:58:28.686 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 22:58:28.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 17.7658ms
2023-05-20 22:58:36.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 22:58:36.893 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:58:36.894 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 22:58:36.896 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 22:58:36.898 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 22:58:36.899 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:58:36.900 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-20 22:58:36.901 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 22:58:36.904 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-05-20 22:58:36.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 302 0 - 13.8858ms
2023-05-20 22:58:36.914 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/Account/Login?ReturnUrl=%2Fapi%2FParents - -
2023-05-20 22:58:36.915 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:58:36.917 +03:00 [DBG] No candidates found for the request path '/Account/Login'
2023-05-20 22:58:36.919 +03:00 [DBG] Request did not match any endpoints
2023-05-20 22:58:36.920 +03:00 [DBG] The request path /Account/Login does not match a supported file type
2023-05-20 22:58:36.921 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-20 22:58:36.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/Account/Login?ReturnUrl=%2Fapi%2FParents - - - 404 0 - 8.6432ms
2023-05-20 22:58:56.993 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Activities - -
2023-05-20 22:58:56.999 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 22:58:57.000 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Activities'
2023-05-20 22:58:57.002 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor)' with route pattern 'api/Activities' is valid for the request path '/api/Activities'
2023-05-20 22:58:57.004 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor)'
2023-05-20 22:58:57.005 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 22:58:57.007 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-20 22:58:57.009 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor)'
2023-05-20 22:58:57.022 +03:00 [INF] Route matched with {action = "GetActivities", controller = "Activities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.Entities.Activities]]] GetActivities() on controller Kidpaor.Controllers.ActivitiesController (Kidpaor).
2023-05-20 22:58:57.026 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 22:58:57.028 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 22:58:57.030 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 22:58:57.034 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 22:58:57.036 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 22:58:57.038 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 22:58:57.040 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 22:58:57.072 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 22:58:57.091 +03:00 [DBG] Compiling query expression: 
'DbSet<Activities>()
    .Include(p => p.Category)
    .Include(p => p.Organizer)'
2023-05-20 22:58:57.117 +03:00 [DBG] Including navigation: 'Activities.Category'.
2023-05-20 22:58:57.121 +03:00 [DBG] Including navigation: 'Activities.Organizer'.
2023-05-20 22:58:57.210 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Activities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Activities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Activities.ActivitiesCategoryId (int) Required FK Index, 1], [Property: Activities.ActivitiesOrganizerId (int) Required FK Index, 2], [Property: Activities.AgeRange (string) Required, 3], [Property: Activities.Cost (string) Required, 4], [Property: Activities.DateEnd (DateTime) Required, 5], [Property: Activities.DateStart (DateTime) Required, 6], [Property: Activities.Description (string) Required, 7], [Property: Activities.Location (string) Required, 8], [Property: Activities.Title (string) Required MaxLength(100), 9] }
            1 -> Dictionary<IProperty, int> { [Property: ActivitiesCategories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: ActivitiesCategories.Description (string), 11], [Property: ActivitiesCategories.Name (string), 12] }
            2 -> Dictionary<IProperty, int> { [Property: Organizers.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Organizers.Address (string), 14], [Property: Organizers.Email (string), 15], [Property: Organizers.Fullname (string), 16], [Property: Organizers.Phone (string), 17] }
        SELECT a.Id, a.ActivitiesCategoryId, a.ActivitiesOrganizerId, a.AgeRange, a.Cost, a.DateEnd, a.DateStart, a.Description, a.Location, a.Title, a0.Id, a0.Description, a0.Name, o.Id, o.Address, o.Email, o.Fullname, o.Phone
        FROM Activities AS a
        INNER JOIN ActivitiesCategories AS a0 ON a.ActivitiesCategoryId == a0.Id
        INNER JOIN Organizers AS o ON a.ActivitiesOrganizerId == o.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Activities>, 
    Infrastructure.Data.StoreContext, 
    False, 
    False, 
    True
)'
2023-05-20 22:58:57.229 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 22:58:57.230 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 22:58:57.234 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 22:58:57.237 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:58:57.240 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ActivitiesCategoryId", a."ActivitiesOrganizerId", a."AgeRange", a."Cost", a."DateEnd", a."DateStart", a."Description", a."Location", a."Title", a0."Id", a0."Description", a0."Name", o."Id", o."Address", o."Email", o."Fullname", o."Phone"
FROM "Activities" AS a
INNER JOIN "ActivitiesCategories" AS a0 ON a."ActivitiesCategoryId" = a0."Id"
INNER JOIN "Organizers" AS o ON a."ActivitiesOrganizerId" = o."Id"
2023-05-20 22:58:57.251 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ActivitiesCategoryId", a."ActivitiesOrganizerId", a."AgeRange", a."Cost", a."DateEnd", a."DateStart", a."Description", a."Location", a."Title", a0."Id", a0."Description", a0."Name", o."Id", o."Address", o."Email", o."Fullname", o."Phone"
FROM "Activities" AS a
INNER JOIN "ActivitiesCategories" AS a0 ON a."ActivitiesCategoryId" = a0."Id"
INNER JOIN "Organizers" AS o ON a."ActivitiesOrganizerId" = o."Id"
2023-05-20 22:58:57.261 +03:00 [DBG] A data reader was disposed.
2023-05-20 22:58:57.263 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 22:58:57.265 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 22:58:57.277 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 22:58:57.285 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 22:58:57.287 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 22:58:57.289 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 22:58:57.290 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 22:58:57.291 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 22:58:57.293 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.Activities, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-20 22:58:57.307 +03:00 [INF] Executed action Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor) in 264.6814ms
2023-05-20 22:58:57.310 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivities (Kidpaor)'
2023-05-20 22:58:57.316 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 22:58:57.319 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Activities - - - 200 - application/json;+charset=utf-8 326.1785ms
2023-05-20 23:00:21.413 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 23:00:21.416 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 23:00:21.418 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 23:00:21.419 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 23:00:21.424 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 23:00:21.425 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 23:00:21.426 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-20 23:00:21.428 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-20 23:00:21.429 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-05-20 23:00:21.431 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 302 0 - 18.9995ms
2023-05-20 23:00:21.443 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/Account/Login?ReturnUrl=%2Fapi%2FParents - -
2023-05-20 23:00:21.444 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 23:00:21.445 +03:00 [DBG] No candidates found for the request path '/Account/Login'
2023-05-20 23:00:21.445 +03:00 [DBG] Request did not match any endpoints
2023-05-20 23:00:21.446 +03:00 [DBG] The request path /Account/Login does not match a supported file type
2023-05-20 23:00:21.447 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-20 23:00:21.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/Account/Login?ReturnUrl=%2Fapi%2FParents - - - 404 0 - 4.8675ms
2023-05-20 23:02:36.958 +03:00 [INF] Starting web application
2023-05-20 23:02:39.323 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 23:02:39.329 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 23:02:40.176 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 23:02:40.180 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 23:02:40.555 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 23:02:40.614 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 23:02:40.631 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:02:40.948 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:40.966 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:40.977 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:02:40.997 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 23:02:41.011 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2023-05-20 23:02:41.018 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:02:41.104 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.117 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:02:41.197 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:02:41.204 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.210 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:02:41.215 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:02:41.291 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.292 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.294 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:02:41.297 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 23:02:41.302 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-05-20 23:02:41.304 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:02:41.307 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.309 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:02:41.314 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:02:41.317 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.319 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:02:41.342 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 23:02:41.344 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 23:02:41.346 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:02:41.347 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.350 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 23:02:41.368 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 23:02:41.384 +03:00 [DBG] A data reader was disposed.
2023-05-20 23:02:41.387 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.388 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:02:41.411 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 23:02:41.513 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 23:02:41.518 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.521 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.665 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.667 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.670 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.672 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 23:02:41.674 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 23:02:41.678 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.754 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.756 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:02:41.765 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:02:41.769 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.770 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.775 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.883 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.885 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.887 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.888 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 23:02:41.891 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 23:02:41.894 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.895 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.897 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:02:41.901 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:02:41.905 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.907 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.910 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 23:02:41.911 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 23:02:41.913 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.915 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.917 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 23:02:41.922 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 23:02:41.926 +03:00 [DBG] A data reader was disposed.
2023-05-20 23:02:41.927 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:41.928 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:41.931 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 23:02:41.997 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 23:02:42.229 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 23:02:42.261 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 23:02:42.265 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-20 23:02:42.269 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:02:42.273 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:42.277 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 23:02:42.285 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 23:02:42.295 +03:00 [DBG] A data reader was disposed.
2023-05-20 23:02:42.298 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:42.300 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:02:42.304 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 23:02:42.308 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 23:02:42.380 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 23:02:42.437 +03:00 [DBG] Hosting starting
2023-05-20 23:02:42.501 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 23:02:42.508 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 23:02:42.616 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 23:02:42.697 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 23:02:42.705 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 23:02:42.714 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 23:02:42.718 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 23:02:42.723 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 23:02:42.729 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 23:02:42.736 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 23:02:42.741 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 23:02:42.904 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 23:02:42.941 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 23:02:42.943 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 23:02:42.945 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 23:02:42.947 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 23:02:42.948 +03:00 [INF] Hosting environment: Development
2023-05-20 23:02:42.949 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 23:02:42.951 +03:00 [DBG] Hosting started
2023-05-20 23:02:46.262 +03:00 [DBG] Connection id "0HMQPDKN1D4IT" accepted.
2023-05-20 23:02:46.264 +03:00 [DBG] Connection id "0HMQPDKN1D4IT" started.
2023-05-20 23:02:46.366 +03:00 [DBG] Connection 0HMQPDKN1D4IT established using the following protocol: "Tls12"
2023-05-20 23:02:46.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 23:02:46.430 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 23:02:46.472 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 23:02:46.517 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 23:02:46.521 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 23:02:46.523 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 23:02:46.524 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 23:02:47.477 +03:00 [DBG] Successfully validated the token.
2023-05-20 23:02:47.481 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 23:02:47.491 +03:00 [DBG] Authorization was successful.
2023-05-20 23:02:47.494 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 23:02:47.540 +03:00 [INF] Route matched with {action = "GetParents", controller = "Parents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.Entities.Parents]]] GetParents() on controller Kidpaor.Controllers.ParentsController (Kidpaor).
2023-05-20 23:02:47.544 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 23:02:47.547 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 23:02:47.550 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 23:02:47.553 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 23:02:47.556 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 23:02:47.559 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 23:02:47.562 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 23:02:55.149 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 23:02:55.156 +03:00 [DBG] Compiling query expression: 
'DbSet<Parents>()'
2023-05-20 23:02:55.202 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Parents>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Parents.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Parents.Address (string) Required, 1], [Property: Parents.Email (string) Required, 2], [Property: Parents.Fullname (string) Required, 3], [Property: Parents.Phone (string) Required, 4] }
        SELECT p.Id, p.Address, p.Email, p.Fullname, p.Phone
        FROM Parents AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Parents>, 
    Infrastructure.Data.StoreContext, 
    False, 
    False, 
    True
)'
2023-05-20 23:02:55.213 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 23:02:55.215 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 23:02:55.216 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:55.217 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:55.218 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Address", p."Email", p."Fullname", p."Phone"
FROM "Parents" AS p
2023-05-20 23:02:55.222 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Address", p."Email", p."Fullname", p."Phone"
FROM "Parents" AS p
2023-05-20 23:02:55.229 +03:00 [DBG] A data reader was disposed.
2023-05-20 23:02:55.233 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:02:55.235 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:02:55.243 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 23:02:55.249 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 23:02:55.251 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 23:02:55.253 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 23:02:55.254 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 23:02:55.255 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 23:02:55.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.Parents, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-20 23:02:55.280 +03:00 [INF] Executed action Kidpaor.Controllers.ParentsController.GetParents (Kidpaor) in 7716.3245ms
2023-05-20 23:02:55.284 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 23:02:55.294 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 23:02:55.298 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 - application/json;+charset=utf-8 8874.0781ms
2023-05-20 23:03:59.220 +03:00 [INF] Starting web application
2023-05-20 23:04:01.409 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-20 23:04:01.416 +03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2023-05-20 23:04:02.328 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-20 23:04:02.333 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-20 23:04:02.703 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'AppIdentityDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 23:04:02.785 +03:00 [DBG] Migrating using database 'identity-db' on server ''.
2023-05-20 23:04:02.804 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.185 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.199 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.212 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.234 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 23:04:03.257 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2023-05-20 23:04:03.265 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.373 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.390 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:04:03.504 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:04:03.514 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.527 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.534 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.641 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.643 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.644 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.646 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 23:04:03.648 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 23:04:03.649 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.652 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.654 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:04:03.659 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:04:03.662 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.665 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.691 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 23:04:03.692 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 23:04:03.694 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.696 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.699 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 23:04:03.712 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 23:04:03.726 +03:00 [DBG] A data reader was disposed.
2023-05-20 23:04:03.729 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.731 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:04:03.750 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 23:04:03.871 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 23:04:03.875 +03:00 [DBG] Migrating using database 'kidpaor-db' on server ''.
2023-05-20 23:04:03.877 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:03.972 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.975 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:03.976 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:03.978 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 23:04:03.979 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-20 23:04:03.981 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:04.052 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.055 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:04:04.065 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:04:04.068 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.070 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:04.072 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:04.144 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.146 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.148 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:04.151 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-20 23:04:04.154 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-20 23:04:04.155 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:04.157 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.158 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:04:04.161 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-20 23:04:04.165 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.166 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:04.169 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 23:04:04.170 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 23:04:04.171 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:04.173 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.176 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 23:04:04.181 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-20 23:04:04.184 +03:00 [DBG] A data reader was disposed.
2023-05-20 23:04:04.186 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.188 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:04.190 +03:00 [INF] No migrations were applied. The database is already up to date.
2023-05-20 23:04:04.240 +03:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2023-05-20 23:04:04.456 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Infrastructure.Identity.AppIdentityDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-20 23:04:04.489 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 23:04:04.492 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 23:04:04.495 +03:00 [DBG] Opening connection to database 'identity-db' on server ''.
2023-05-20 23:04:04.498 +03:00 [DBG] Opened connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.501 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 23:04:04.510 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS a)
2023-05-20 23:04:04.519 +03:00 [DBG] A data reader was disposed.
2023-05-20 23:04:04.522 +03:00 [DBG] Closing connection to database 'identity-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:04.525 +03:00 [DBG] Closed connection to database 'identity-db' on server ''.
2023-05-20 23:04:04.529 +03:00 [DBG] 'AppIdentityDbContext' disposed.
2023-05-20 23:04:04.532 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 23:04:04.596 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-20 23:04:04.668 +03:00 [DBG] Hosting starting
2023-05-20 23:04:04.728 +03:00 [INF] User profile is available. Using 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-20 23:04:04.735 +03:00 [DBG] Reading data from file 'C:\Users\ncalincov\AppData\Local\ASP.NET\DataProtection-Keys\key-de7f6b72-5674-4caa-af58-fd2dbe64174e.xml'.
2023-05-20 23:04:04.753 +03:00 [DBG] Found key {de7f6b72-5674-4caa-af58-fd2dbe64174e}.
2023-05-20 23:04:04.771 +03:00 [DBG] Considering key {de7f6b72-5674-4caa-af58-fd2dbe64174e} with expiration date 2023-06-27 02:46:45Z as default key.
2023-05-20 23:04:04.776 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 23:04:04.779 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-20 23:04:04.782 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-20 23:04:04.787 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-20 23:04:04.791 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-20 23:04:04.797 +03:00 [DBG] Using key {de7f6b72-5674-4caa-af58-fd2dbe64174e} as the default key.
2023-05-20 23:04:04.800 +03:00 [DBG] Key ring with default key {de7f6b72-5674-4caa-af58-fd2dbe64174e} was loaded during application startup.
2023-05-20 23:04:04.926 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 62B09325E97BFD4B05071288AEFE6F08B963A88E)
2023-05-20 23:04:04.971 +03:00 [INF] Now listening on: https://localhost:7275
2023-05-20 23:04:04.976 +03:00 [INF] Now listening on: http://localhost:5151
2023-05-20 23:04:04.978 +03:00 [DBG] Loaded hosting startup assembly Kidpaor
2023-05-20 23:04:04.981 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-20 23:04:04.982 +03:00 [INF] Hosting environment: Development
2023-05-20 23:04:04.984 +03:00 [INF] Content root path: D:\Projects\kidpaor\KidpaorBE\Kidpaor\
2023-05-20 23:04:04.985 +03:00 [DBG] Hosting started
2023-05-20 23:04:09.919 +03:00 [DBG] Connection id "0HMQPDLFV6N3S" accepted.
2023-05-20 23:04:09.923 +03:00 [DBG] Connection id "0HMQPDLFV6N3S" started.
2023-05-20 23:04:09.996 +03:00 [DBG] Connection 0HMQPDLFV6N3S established using the following protocol: "Tls12"
2023-05-20 23:04:10.050 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-05-20 23:04:10.054 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-20 23:04:10.149 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 101.5781ms
2023-05-20 23:04:10.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-05-20 23:04:10.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 137.1126ms
2023-05-20 23:04:16.341 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Parents - -
2023-05-20 23:04:16.347 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 23:04:16.403 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Parents'
2023-05-20 23:04:16.405 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)' with route pattern 'api/Parents' is valid for the request path '/api/Parents'
2023-05-20 23:04:16.408 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 23:04:16.409 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 23:04:16.728 +03:00 [DBG] Successfully validated the token.
2023-05-20 23:04:16.731 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 23:04:16.740 +03:00 [DBG] Authorization was successful.
2023-05-20 23:04:16.743 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 23:04:16.760 +03:00 [INF] Route matched with {action = "GetParents", controller = "Parents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.Entities.Parents]]] GetParents() on controller Kidpaor.Controllers.ParentsController (Kidpaor).
2023-05-20 23:04:16.765 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 23:04:16.767 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 23:04:16.770 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 23:04:16.773 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 23:04:16.776 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 23:04:16.779 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 23:04:16.782 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ParentsController (Kidpaor)
2023-05-20 23:04:16.831 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 23:04:16.839 +03:00 [DBG] Compiling query expression: 
'DbSet<Parents>()'
2023-05-20 23:04:16.883 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Parents>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Parents.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Parents.Address (string) Required, 1], [Property: Parents.Email (string) Required, 2], [Property: Parents.Fullname (string) Required, 3], [Property: Parents.Phone (string) Required, 4] }
        SELECT p.Id, p.Address, p.Email, p.Fullname, p.Phone
        FROM Parents AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Parents>, 
    Infrastructure.Data.StoreContext, 
    False, 
    False, 
    True
)'
2023-05-20 23:04:16.900 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 23:04:16.902 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-20 23:04:16.904 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:16.906 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:16.907 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Address", p."Email", p."Fullname", p."Phone"
FROM "Parents" AS p
2023-05-20 23:04:16.913 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Address", p."Email", p."Fullname", p."Phone"
FROM "Parents" AS p
2023-05-20 23:04:16.923 +03:00 [DBG] A data reader was disposed.
2023-05-20 23:04:16.924 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:04:16.927 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:04:16.938 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 23:04:16.944 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 23:04:16.945 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 23:04:16.947 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 23:04:16.948 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 23:04:16.950 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 23:04:16.952 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.Parents, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-20 23:04:16.961 +03:00 [INF] Executed action Kidpaor.Controllers.ParentsController.GetParents (Kidpaor) in 177.8628ms
2023-05-20 23:04:16.963 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ParentsController.GetParents (Kidpaor)'
2023-05-20 23:04:16.970 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 23:04:16.974 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Parents - - - 200 - application/json;+charset=utf-8 633.0430ms
2023-05-20 23:08:39.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Activities/categories - -
2023-05-20 23:08:39.774 +03:00 [DBG] The request path  does not match the path filter
2023-05-20 23:08:39.776 +03:00 [DBG] 2 candidate(s) found for the request path '/api/Activities/categories'
2023-05-20 23:08:39.777 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor)' with route pattern 'api/Activities/categories' is valid for the request path '/api/Activities/categories'
2023-05-20 23:08:39.779 +03:00 [DBG] Endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivity (Kidpaor)' with route pattern 'api/Activities/{id}' is valid for the request path '/api/Activities/categories'
2023-05-20 23:08:39.781 +03:00 [DBG] Request matched endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor)'
2023-05-20 23:08:39.783 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-20 23:08:39.785 +03:00 [DBG] Successfully validated the token.
2023-05-20 23:08:39.786 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-20 23:08:39.788 +03:00 [INF] Executing endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor)'
2023-05-20 23:08:39.795 +03:00 [INF] Route matched with {action = "GetActivitiesCategories", controller = "Activities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.ActivitiesCategories]]] GetActivitiesCategories() on controller Kidpaor.Controllers.ActivitiesController (Kidpaor).
2023-05-20 23:08:39.797 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-20 23:08:39.799 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-20 23:08:39.801 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-20 23:08:39.804 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-20 23:08:39.810 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-20 23:08:39.812 +03:00 [DBG] Executing controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 23:08:39.816 +03:00 [DBG] Executed controller factory for controller Kidpaor.Controllers.ActivitiesController (Kidpaor)
2023-05-20 23:08:39.823 +03:00 [INF] Entity Framework Core 6.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2023-05-20 23:08:39.827 +03:00 [DBG] Compiling query expression: 
'DbSet<ActivitiesCategories>()'
2023-05-20 23:08:39.833 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ActivitiesCategories>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ActivitiesCategories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ActivitiesCategories.Description (string), 1], [Property: ActivitiesCategories.Name (string), 2] }
        SELECT a.Id, a.Description, a.Name
        FROM ActivitiesCategories AS a), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ActivitiesCategories>, 
    Infrastructure.Data.StoreContext, 
    False, 
    False, 
    True
)'
2023-05-20 23:08:39.836 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-20 23:08:39.837 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-20 23:08:39.838 +03:00 [DBG] Opening connection to database 'kidpaor-db' on server ''.
2023-05-20 23:08:39.839 +03:00 [DBG] Opened connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:08:39.841 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Description", a."Name"
FROM "ActivitiesCategories" AS a
2023-05-20 23:08:39.848 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Description", a."Name"
FROM "ActivitiesCategories" AS a
2023-05-20 23:08:39.851 +03:00 [DBG] A data reader was disposed.
2023-05-20 23:08:39.852 +03:00 [DBG] Closing connection to database 'kidpaor-db' on server 'tcp://localhost:5432'.
2023-05-20 23:08:39.854 +03:00 [DBG] Closed connection to database 'kidpaor-db' on server ''.
2023-05-20 23:08:39.856 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-20 23:08:39.860 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-20 23:08:39.861 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-20 23:08:39.863 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-20 23:08:39.864 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-20 23:08:39.864 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-20 23:08:39.866 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.ActivitiesCategories, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-20 23:08:39.870 +03:00 [INF] Executed action Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor) in 58.1422ms
2023-05-20 23:08:39.886 +03:00 [INF] Executed endpoint 'Kidpaor.Controllers.ActivitiesController.GetActivitiesCategories (Kidpaor)'
2023-05-20 23:08:39.888 +03:00 [DBG] 'StoreContext' disposed.
2023-05-20 23:08:39.891 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Activities/categories - - - 200 - application/json;+charset=utf-8 124.1697ms
2023-05-20 23:41:43.361 +03:00 [DBG] Connection id "0HMQPDLFV6N3S" received FIN.
2023-05-20 23:41:43.424 +03:00 [DBG] Connection id "0HMQPDLFV6N3S" is closed. The last processed stream ID was 7.
2023-05-20 23:41:43.445 +03:00 [DBG] Connection id "0HMQPDLFV6N3S" sending FIN because: "The client closed the connection."
2023-05-20 23:41:43.470 +03:00 [DBG] Connection id "0HMQPDLFV6N3S" stopped.
